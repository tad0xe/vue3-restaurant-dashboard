{"ast":null,"code":"import { createElementVNode as _createElementVNode, vModelText as _vModelText, withDirectives as _withDirectives, createTextVNode as _createTextVNode, resolveComponent as _resolveComponent, withCtx as _withCtx, createVNode as _createVNode, withModifiers as _withModifiers, createCommentVNode as _createCommentVNode, createStaticVNode as _createStaticVNode, openBlock as _openBlock, createElementBlock as _createElementBlock, pushScopeId as _pushScopeId, popScopeId as _popScopeId } from \"vue\";\nconst _withScopeId = n => (_pushScopeId(\"data-v-6bab3132\"), n = n(), _popScopeId(), n);\nconst _hoisted_1 = {\n  class: \"h-100\"\n};\nconst _hoisted_2 = {\n  class: \"\"\n};\nconst _hoisted_3 = {\n  class: \"\"\n};\nconst _hoisted_4 = {\n  class: \"row vertical-center justify-content-center h-100 align-items-center\"\n};\nconst _hoisted_5 = {\n  class: \"col-md-6\"\n};\nconst _hoisted_6 = {\n  class: \"authincation-content\"\n};\nconst _hoisted_7 = {\n  class: \"row no-gutters\"\n};\nconst _hoisted_8 = {\n  class: \"col\"\n};\nconst _hoisted_9 = {\n  class: \"form-container\"\n};\nconst _hoisted_10 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"p\", {\n  class: \"title\"\n}, \"Welcome back\", -1 /* HOISTED */));\nconst _hoisted_11 = {\n  class: \"page-link\"\n};\nconst _hoisted_12 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"button\", {\n  class: \"form-btn\",\n  type: \"submit\"\n}, \"Log in\", -1 /* HOISTED */));\nconst _hoisted_13 = {\n  class: \"sign-up-label\"\n};\nconst _hoisted_14 = {\n  class: \"buttons-container\"\n};\nconst _hoisted_15 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"svg\", {\n  stroke: \"currentColor\",\n  fill: \"currentColor\",\n  \"stroke-width\": \"0\",\n  class: \"apple-icon\",\n  viewBox: \"0 0 1024 1024\",\n  height: \"1em\",\n  width: \"1em\"\n}, [/*#__PURE__*/_createElementVNode(\"path\", {\n  d: \"M747.4...\"\n})], -1 /* HOISTED */));\nconst _hoisted_16 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"span\", null, \"Log in with Apple\", -1 /* HOISTED */));\nconst _hoisted_17 = [_hoisted_15, _hoisted_16];\nconst _hoisted_18 = /*#__PURE__*/_createStaticVNode(\"<svg stroke=\\\"currentColor\\\" fill=\\\"currentColor\\\" stroke-width=\\\"0\\\" class=\\\"google-icon\\\" viewBox=\\\"0 0 48 48\\\" height=\\\"1em\\\" width=\\\"1em\\\" data-v-6bab3132><path fill=\\\"#FFC107\\\" d=\\\"M43.611...\\\" data-v-6bab3132></path><path fill=\\\"#FF3D00\\\" d=\\\"M6.306...\\\" data-v-6bab3132></path><path fill=\\\"#4CAF50\\\" d=\\\"M24,44...\\\" data-v-6bab3132></path><path fill=\\\"#1976D2\\\" d=\\\"M43.611...\\\" data-v-6bab3132></path></svg><span data-v-6bab3132>Log in with Google</span>\", 2);\nconst _hoisted_20 = [_hoisted_18];\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  const _component_router_link = _resolveComponent(\"router-link\");\n  return _openBlock(), _createElementBlock(\"body\", _hoisted_1, [_createElementVNode(\"div\", _hoisted_2, [_createElementVNode(\"div\", _hoisted_3, [_createElementVNode(\"div\", _hoisted_4, [_createElementVNode(\"div\", _hoisted_5, [_createElementVNode(\"div\", _hoisted_6, [_createElementVNode(\"div\", _hoisted_7, [_createElementVNode(\"div\", _hoisted_8, [_createElementVNode(\"div\", _hoisted_9, [_hoisted_10, _createElementVNode(\"form\", {\n    class: \"form\",\n    onSubmit: _cache[2] || (_cache[2] = _withModifiers((...args) => $options.loginUser && $options.loginUser(...args), [\"prevent\"]))\n  }, [_withDirectives(_createElementVNode(\"input\", {\n    type: \"email\",\n    class: \"input\",\n    placeholder: \"Email\",\n    \"onUpdate:modelValue\": _cache[0] || (_cache[0] = $event => $data.email = $event),\n    required: \"\"\n  }, null, 512 /* NEED_PATCH */), [[_vModelText, $data.email]]), _withDirectives(_createElementVNode(\"input\", {\n    type: \"password\",\n    class: \"input\",\n    placeholder: \"Password\",\n    \"onUpdate:modelValue\": _cache[1] || (_cache[1] = $event => $data.password = $event),\n    required: \"\"\n  }, null, 512 /* NEED_PATCH */), [[_vModelText, $data.password]]), _createElementVNode(\"p\", _hoisted_11, [_createVNode(_component_router_link, {\n    to: \"/forgot-password\",\n    class: \"page-link-label text-primary text-decoration-none\"\n  }, {\n    default: _withCtx(() => [_createTextVNode(\" Forgot Password? \")]),\n    _: 1 /* STABLE */\n  })]), _hoisted_12], 32 /* HYDRATE_EVENTS */), _createElementVNode(\"p\", _hoisted_13, [_createTextVNode(\" Don't have an account? \"), _createVNode(_component_router_link, {\n    to: \"/register\",\n    class: \"sign-up-link text-primary text-decoration-none\"\n  }, {\n    default: _withCtx(() => [_createTextVNode(\" Sign up \")]),\n    _: 1 /* STABLE */\n  })]), _createElementVNode(\"div\", _hoisted_14, [_createElementVNode(\"div\", {\n    class: \"apple-login-button\",\n    onClick: _cache[3] || (_cache[3] = (...args) => _ctx.loginWithApple && _ctx.loginWithApple(...args)),\n    role: \"button\"\n  }, _hoisted_17), _createElementVNode(\"div\", {\n    class: \"google-login-button\",\n    onClick: _cache[4] || (_cache[4] = (...args) => _ctx.loginWithGoogle && _ctx.loginWithGoogle(...args)),\n    role: \"button\"\n  }, _hoisted_20)])])])])])])])])]), _createCommentVNode(\"**********************************\\r\\n        Scripts\\r\\n    ***********************************\"), _createCommentVNode(\" Required vendors \")]);\n}","map":{"version":3,"names":["class","_createElementVNode","type","stroke","fill","viewBox","height","width","d","_hoisted_15","_hoisted_16","_hoisted_18","_createElementBlock","_hoisted_1","_hoisted_2","_hoisted_3","_hoisted_4","_hoisted_5","_hoisted_6","_hoisted_7","_hoisted_8","_hoisted_9","_hoisted_10","onSubmit","_cache","_withModifiers","args","$options","loginUser","placeholder","$data","email","$event","required","password","_hoisted_11","_createVNode","_component_router_link","to","_hoisted_12","_hoisted_13","_hoisted_14","onClick","_ctx","loginWithApple","role","loginWithGoogle","_createCommentVNode"],"sources":["C:\\Users\\ajib\\OneDrive\\Desktop\\event-ticket\\vue3-restaurant-dashboard\\src\\components\\auth\\Login.vue"],"sourcesContent":["<template>\r\n\r\n  <body class=\"h-100 \">\r\n    <div class=\"\">\r\n      <div class=\"\">\r\n        <div class=\"row vertical-center justify-content-center h-100 align-items-center\">\r\n          <div class=\"col-md-6\">\r\n            <div class=\"authincation-content\">\r\n              <div class=\"row no-gutters\">\r\n                <div class=\"col\">\r\n                    <div class=\"form-container\">\r\n    <p class=\"title\">Welcome back</p>\r\n    <form class=\"form\" @submit.prevent=\"loginUser\">\r\n      <input\r\n        type=\"email\"\r\n        class=\"input\"\r\n        placeholder=\"Email\"\r\n        v-model=\"email\"\r\n        required\r\n      />\r\n      <input\r\n        type=\"password\"\r\n        class=\"input\"\r\n        placeholder=\"Password\"\r\n        v-model=\"password\"\r\n        required\r\n      />\r\n      <p class=\"page-link\">\r\n        <router-link to=\"/forgot-password\" class=\"page-link-label text-primary text-decoration-none\">\r\n          Forgot Password?\r\n        </router-link>\r\n      </p>\r\n      <button class=\"form-btn\" type=\"submit\">Log in</button>\r\n    </form>\r\n\r\n    <p class=\"sign-up-label\">\r\n      Don't have an account?\r\n      <router-link to=\"/register\" class=\"sign-up-link text-primary text-decoration-none\">\r\n        Sign up\r\n      </router-link>\r\n    </p>\r\n\r\n    <div class=\"buttons-container\">\r\n      <div class=\"apple-login-button\" @click=\"loginWithApple\" role=\"button\">\r\n        <svg stroke=\"currentColor\" fill=\"currentColor\" stroke-width=\"0\" class=\"apple-icon\" viewBox=\"0 0 1024 1024\" height=\"1em\" width=\"1em\">\r\n          <path d=\"M747.4...\"></path>\r\n        </svg>\r\n        <span>Log in with Apple</span>\r\n      </div>\r\n\r\n      <div class=\"google-login-button\" @click=\"loginWithGoogle\" role=\"button\">\r\n        <svg stroke=\"currentColor\" fill=\"currentColor\" stroke-width=\"0\" class=\"google-icon\" viewBox=\"0 0 48 48\" height=\"1em\" width=\"1em\">\r\n          <path fill=\"#FFC107\" d=\"M43.611...\"></path>\r\n          <path fill=\"#FF3D00\" d=\"M6.306...\"></path>\r\n          <path fill=\"#4CAF50\" d=\"M24,44...\"></path>\r\n          <path fill=\"#1976D2\" d=\"M43.611...\"></path>\r\n        </svg>\r\n        <span>Log in with Google</span>\r\n      </div>\r\n    </div>\r\n  </div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n\r\n    <!--**********************************\r\n        Scripts\r\n    ***********************************-->\r\n    <!-- Required vendors -->\r\n\r\n  </body>\r\n</template>\r\n<script>\r\n\r\nimport { mapActions } from \"vuex\";\r\nimport { googleSdkLoaded } from \"vue3-google-login\";\r\nimport Swal from \"sweetalert2\";\r\nimport jwt_decode from \"jwt-decode\";\r\n\r\nexport default {\r\n  data() {\r\n    return {\r\n      name: \"\",\r\n      email: \"\",\r\n      password: \"\"\r\n    };\r\n  },\r\n  methods: {\r\n    ...mapActions([\"LOGIN_USER\", \"sendCodeToBackend\"]),\r\n    login() {\r\n      googleSdkLoaded(google => {\r\n        google.accounts.oauth2\r\n          .initCodeClient({\r\n            client_id:\r\n              \"58730156701-d27fqgjbhmuqt974hav87of8hofgi6i0.apps.googleusercontent.com\",\r\n            scope: \"email profile openid\",\r\n            redirect_uri: \"https://restaurant-n54j.onrender.com/auth/callback\",\r\n            callback: response => {\r\n              if (response.code) {\r\n                this.sendCodeToBackend(response.code);\r\n              }\r\n            }\r\n          })\r\n          .requestCode();\r\n      });\r\n    },\r\n    loginUser() {\r\n      const payload = {\r\n        email: this.email,\r\n        password: this.password\r\n      };\r\n\r\n      this.LOGIN_USER(payload)\r\n        .then(response => {\r\n          const decodedToken = jwt_decode(response.token);\r\n         // console.log(decodedToken);\r\n          // Access the decoded token properties\r\n          const isAdmin = decodedToken.isAdmin;\r\n\r\n          Swal.fire(\"login successful\");\r\n\r\n          // Redirect based on user role\r\n          //console.log(\"isAdmin:\", isAdmin);\r\n          this.$router.push('/')\r\n\r\n\r\n        })\r\n        .catch(err => {\r\n          const message = err.message;\r\n\r\n          Swal.fire(\"Oh oo!\", `${message}`, \"error\");\r\n        });\r\n    }\r\n  }\r\n};\r\n</script>\r\n<style scoped>\r\n/* From Uiverse.io by akshat-patel28 */ \r\n.form-container {\r\n  display: flex;\r\n  justify-content: center;\r\n  width: 350px;\r\n  height: 500px;\r\n  background-color: #fff;\r\n  box-shadow: rgba(0, 0, 0, 0.35) 0px 5px 15px;\r\n  border-radius: 10px;\r\n  box-sizing: border-box;\r\n  padding: 20px 30px;\r\n}\r\n\r\n.title {\r\n  text-align: center;\r\n  font-family: \"Lucida Sans\", \"Lucida Sans Regular\", \"Lucida Grande\",\r\n        \"Lucida Sans Unicode\", Geneva, Verdana, sans-serif;\r\n  margin: 10px 0 30px 0;\r\n  font-size: 28px;\r\n  font-weight: 800;\r\n}\r\n\r\n.form {\r\n  width: 100%;\r\n  display: flex;\r\n  flex-direction: column;\r\n  gap: 18px;\r\n  margin-bottom: 15px;\r\n}\r\n\r\n.input {\r\n  border-radius: 20px;\r\n  border: 1px solid #c0c0c0;\r\n  outline: 0 !important;\r\n  box-sizing: border-box;\r\n  padding: 12px 15px;\r\n}\r\n\r\n.page-link {\r\n  text-decoration: underline;\r\n  margin: 0;\r\n  text-align: end;\r\n  color: #747474;\r\n  text-decoration-color: #747474;\r\n}\r\n\r\n.page-link-label {\r\n  cursor: pointer;\r\n  font-family: \"Lucida Sans\", \"Lucida Sans Regular\", \"Lucida Grande\",\r\n        \"Lucida Sans Unicode\", Geneva, Verdana, sans-serif;\r\n  font-size: 9px;\r\n  font-weight: 700;\r\n}\r\n\r\n.page-link-label:hover {\r\n  color: #000;\r\n}\r\n\r\n.form-btn {\r\n  padding: 10px 15px;\r\n  font-family: \"Lucida Sans\", \"Lucida Sans Regular\", \"Lucida Grande\",\r\n        \"Lucida Sans Unicode\", Geneva, Verdana, sans-serif;\r\n  border-radius: 20px;\r\n  border: 0 !important;\r\n  outline: 0 !important;\r\n  background: teal;\r\n  color: white;\r\n  cursor: pointer;\r\n  box-shadow: rgba(0, 0, 0, 0.24) 0px 3px 8px;\r\n}\r\n\r\n.form-btn:active {\r\n  box-shadow: none;\r\n}\r\n\r\n.sign-up-label {\r\n  margin: 0;\r\n  font-size: 10px;\r\n  color: #747474;\r\n  font-family: \"Lucida Sans\", \"Lucida Sans Regular\", \"Lucida Grande\",\r\n        \"Lucida Sans Unicode\", Geneva, Verdana, sans-serif;\r\n}\r\n\r\n.sign-up-link {\r\n  margin-left: 1px;\r\n  font-size: 11px;\r\n  text-decoration: underline;\r\n  text-decoration-color: teal;\r\n  color: teal;\r\n  cursor: pointer;\r\n  font-weight: 800;\r\n  font-family: \"Lucida Sans\", \"Lucida Sans Regular\", \"Lucida Grande\",\r\n        \"Lucida Sans Unicode\", Geneva, Verdana, sans-serif;\r\n}\r\n\r\n.buttons-container {\r\n  width: 100%;\r\n  display: flex;\r\n  flex-direction: column;\r\n  justify-content: flex-start;\r\n  margin-top: 20px;\r\n  gap: 15px;\r\n}\r\n\r\n.apple-login-button,\r\n    .google-login-button {\r\n  border-radius: 20px;\r\n  box-sizing: border-box;\r\n  padding: 10px 15px;\r\n  box-shadow: rgba(0, 0, 0, 0.16) 0px 10px 36px 0px,\r\n        rgba(0, 0, 0, 0.06) 0px 0px 0px 1px;\r\n  cursor: pointer;\r\n  display: flex;\r\n  justify-content: center;\r\n  align-items: center;\r\n  font-family: \"Lucida Sans\", \"Lucida Sans Regular\", \"Lucida Grande\",\r\n        \"Lucida Sans Unicode\", Geneva, Verdana, sans-serif;\r\n  font-size: 11px;\r\n  gap: 5px;\r\n}\r\n\r\n.apple-login-button {\r\n  background-color: #000;\r\n  color: #fff;\r\n  border: 2px solid #000;\r\n}\r\n\r\n.google-login-button {\r\n  border: 2px solid #747474;\r\n}\r\n\r\n.apple-icon,\r\n    .google-icon {\r\n  font-size: 18px;\r\n  margin-bottom: 1px;\r\n}\r\n</style>\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}