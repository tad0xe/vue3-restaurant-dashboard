{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\nimport { StripeElements, StripeElement } from \"vue-stripe-js\";\nimport { loadStripe } from \"@stripe/stripe-js\";\nimport { defineComponent, ref, onBeforeMount } from \"vue\";\nimport axios from \"axios\";\nimport Spinner from \"@/components/spinner.vue\";\nimport axiosInstance from \"@/helpers/axiosInstance\";\nimport review from \"@/components/Review\";\nimport { mapActions, mapGetters } from \"vuex\";\nimport Swal from \"sweetalert2\";\nexport default defineComponent({\n  name: \"CardOnly\",\n  components: {\n    StripeElements,\n    StripeElement,\n    review,\n    Spinner\n  },\n  data() {\n    return {\n      stripeKey: \"pk_test_51KGqWkHCcyZvTrDrTmAbtZkngRWbP0FCvV3bgZnz8GXuleqD1fo1lRa5seDD3qKsk0irYLumaH3SeI5cILED3pwq00NR023dNZ\",\n      instanceOptions: {},\n      elementsOptions: {},\n      cardOptions: {\n        value: {\n          postalCode: \"12345\"\n        }\n      },\n      rating: 0,\n      quantity: 1,\n      stripeLoaded: false,\n      loading: false,\n      totalPrice: null,\n      isModalOpen1: false,\n      isModalOpen2: false\n    };\n  },\n  computed: {\n    ...mapGetters([\"getProduct\", \"getUser\", \"getToken\", \"getReviews\"]),\n    product() {\n      return this.getProduct;\n    },\n    user() {\n      return this.getUser;\n    },\n    reviewsLength() {\n      const product = this.getProduct;\n      if (product && product.reviews) {\n        return product.reviews.length;\n      }\n      return 0;\n    }\n  },\n  mounted() {\n    const stripePromise = loadStripe(this.stripeKey);\n    stripePromise.then(() => {\n      this.stripeLoaded = true;\n    });\n    this.setActive(\"tab1\");\n    const productId = this.$route.params.id;\n    this.fetchProduct(productId);\n    this.fetchProductReviews(productId).then(() => {\n      // console.log(\"Reviews fetched successfully:\", this.fetchProductReviews);\n    }).catch(error => {\n      console.error(\"Error fetching reviews:\", error);\n    });\n  },\n  methods: {\n    pay() {\n      this.loading = true;\n      const cardElement = this.$refs.elms.elements.getElement(\"card\");\n      this.$refs.elms.instance.createToken(cardElement).then(result => {\n        //  console.log(result);\n        const token = result.token;\n        this.totalPrice = this.product ? this.product.price : null; // Assign product price to totalPrice if product is defined\n\n        const paymentData = {\n          token: token.id,\n          totalPrice: this.product ? this.product.price * this.quantity : 0,\n          productId: this.product ? this.product._id : null,\n          quantity: this.quantity\n        };\n\n        // Perform your custom logic here using the paymentData\n\n        // console.log(\"Payment data:\", paymentData);\n\n        // Call the function to send payment data to the server\n        this.sendPaymentData(paymentData);\n      }).catch(error => {\n        //console.log(error);\n        // Handle error\n        // Display error message or redirect to an error page\n      });\n    },\n    sendPaymentData(paymentData) {\n      // const token = localStorage.getItem(\"token\");\n\n      axiosInstance.post(\"http://localhost:5000/api/pay\", paymentData, {}).then(response => {\n        //  console.log(response);\n        this.loading = false;\n        const totalPrice = this.product ? this.product.price * this.quantity : 0;\n        Swal.fire(\"Payment made:\", \"Total Price: $\" + totalPrice);\n\n        // Handle the response from the server\n        // Display success message or redirect to a success page\n      }).catch(error => {\n        this.loading = false;\n\n        //console.log(error);\n        Swal.fire(\"check your details:\");\n\n        // Handle error\n        // Display error message or redirect to an error page\n      });\n    },\n\n    openModal1() {\n      this.isModalOpen1 = true;\n    },\n    openModal2() {\n      this.isModalOpen2 = true;\n    },\n    closeModal1() {\n      this.isModalOpen1 = false;\n    },\n    closeModal2() {\n      this.isModalOpen2 = false;\n    },\n    isActive(tab) {\n      return this.activeItem === tab;\n    },\n    setActive(tab) {\n      this.activeItem = tab;\n    },\n    setRating(index) {\n      this.rating = index;\n    },\n    onChangeQuantity(event, product) {\n      let qty = parseInt(event.target.value);\n      this.$store.commit(\"changeQty\", {\n        product,\n        qty\n      });\n    },\n    checkQty(prodQty, qty) {\n      if (parseInt(prodQty) === parseInt(qty)) {\n        return true;\n      } else {\n        return false;\n      }\n    },\n    async onAddReview() {\n      try {\n        const reviewData = {\n          productId: this.$route.params.id,\n          review: {\n            headline: this.headline,\n            body: this.body,\n            rating: this.rating\n          }\n        };\n        // console.log(reviewData);\n\n        await this.$store.dispatch(\"onAddReview\", reviewData);\n        await this.$store.dispatch(\"fetchProductReviews\", this.$route.params.id); // Fetch the updated reviews for the product\n        this.$router.push(`/product/${this.$route.params.id}`);\n        this.isModalOpen1 = false;\n      } catch (err) {\n        // console.log(err);\n      }\n    },\n    async fetchProductReviews(productId) {\n      await this.$store.dispatch(\"fetchProductReviews\", productId); // Dispatch the action to fetch product reviews\n      this.reviewsLength = this.getReviews.length; // Update the reviewsLength using the getter\n    },\n\n    ...mapActions([\"fetchProduct\", \"addProductToCart\", \"likeProducts\", \"fetchProductReviews\"])\n  }\n});","map":{"version":3,"names":["StripeElements","StripeElement","loadStripe","defineComponent","ref","onBeforeMount","axios","Spinner","axiosInstance","review","mapActions","mapGetters","Swal","name","components","data","stripeKey","instanceOptions","elementsOptions","cardOptions","value","postalCode","rating","quantity","stripeLoaded","loading","totalPrice","isModalOpen1","isModalOpen2","computed","product","getProduct","user","getUser","reviewsLength","reviews","length","mounted","stripePromise","then","setActive","productId","$route","params","id","fetchProduct","fetchProductReviews","catch","error","console","methods","pay","cardElement","$refs","elms","elements","getElement","instance","createToken","result","token","price","paymentData","_id","sendPaymentData","post","response","fire","openModal1","openModal2","closeModal1","closeModal2","isActive","tab","activeItem","setRating","index","onChangeQuantity","event","qty","parseInt","target","$store","commit","checkQty","prodQty","onAddReview","reviewData","headline","body","dispatch","$router","push","err","getReviews"],"sources":["C:\\Users\\ajib\\OneDrive\\Desktop\\event-ticket\\vue3-restaurant-dashboard\\src\\components\\Product.vue"],"sourcesContent":["<template>\r\n  <div>\r\n    <div>\r\n\r\n      <div class=\"\">\r\n        <div class=\"container-fluid\">\r\n          <div class=\"row page-titles mx-0\">\r\n            <div class=\"col-sm-6 p-md-0\">\r\n\r\n            </div>\r\n            <div class=\"col-sm-6 p-md-0 justify-content-sm-end mt-2 mt-sm-0 d-flex\">\r\n              <ol class=\"breadcrumb\">\r\n                <li class=\"breadcrumb-item\">\r\n                  <router-link to=\"/\">Home</router-link>\r\n                </li>\r\n                <li class=\"breadcrumb-item active\"><a href=\"javascript:void(0)\">{{product.title}}</a></li>\r\n              </ol>\r\n            </div>\r\n          </div>\r\n          <div class=\"row\">\r\n            <div class=\"col-lg-12\">\r\n              <div class=\"card\">\r\n                <div class=\"card-body\">\r\n                  <div class=\"row\">\r\n                    <div class=\"col-xl-3 \">\r\n                      <!-- Tab panes -->\r\n                      <div class=\"tab-content\">\r\n                        <div role=\"tabpanel\" class=\"tab-pane fade show active custom-tab-pane\" id=\"first\">\r\n  <img class=\"img-fluid\"\r\n    v-if=\"product && product.photos && product.photos.length > 0\"\r\n    :src=\"product.photos[0]\"\r\n    alt=\"\">\r\n</div>\r\n                        <div\r\n                          role=\"tabpanel\"\r\n                          class=\"tab-pane fade\"\r\n                          id=\"second\"\r\n                        >\r\n                          <img\r\n                            class=\"img-fluid\"\r\n                            v-if=\"product && product.photos && product.photos.length > 1\"\r\n                            :src=\"product.photos[1]\"\r\n                            alt=\"\"\r\n                          >\r\n                        </div>\r\n                        <div\r\n                          role=\"tabpanel\"\r\n                          class=\"tab-pane fade\"\r\n                          id=\"third\"\r\n                        >\r\n                          <img\r\n                            class=\"img-fluid\"\r\n                            v-if=\"product && product.photos && product.photos.length > 2\"\r\n                            :src=\"product.photos[2]\"\r\n                            alt=\"\"\r\n                          >\r\n                        </div>\r\n                        <div\r\n                          role=\"tabpanel\"\r\n                          class=\"tab-pane fade\"\r\n                          id=\"fourth\"\r\n                        >\r\n                          <img\r\n                            class=\"img-fluid\"\r\n                            v-if=\"product && product.photos && product.photos.length > 3\"\r\n                            :src=\"product.photos[3]\"\r\n                            alt=\"\"\r\n                          >\r\n                        </div>\r\n                      </div>\r\n\r\n                      <div class=\"tab-slide-content new-arrival-product mb-4 mb-xl-0\">\r\n                        <!-- Nav tabs -->\r\n                        <ul\r\n                          class=\"nav slide-item-list mt-3\"\r\n                          role=\"tablist\"\r\n                        >\r\n                          <li\r\n                            role=\"presentation\"\r\n                            class=\"show\"\r\n                          >\r\n                            <a\r\n                              href=\"#first\"\r\n                              role=\"tab\"\r\n                              data-toggle=\"tab\"\r\n                            >\r\n                              <img\r\n                                class=\"img-fluid\"\r\n                                v-if=\"product && product.photos && product.photos.length > 0\"\r\n                                :src=\"product.photos[0]\"\r\n                                alt=\"\"\r\n                              >\r\n                            </a>\r\n                          </li>\r\n                          <li role=\"presentation\">\r\n                            <a\r\n                              href=\"#second\"\r\n                              role=\"tab\"\r\n                              data-toggle=\"tab\"\r\n                            ><img\r\n                                class=\"img-fluid\"\r\n                                v-if=\"product && product.photos && product.photos.length > 0\"\r\n                                :src=\"product.photos[1]\"\r\n                                alt=\"\"\r\n                              ></a>\r\n                          </li>\r\n                          <li role=\"presentation\">\r\n                            <a\r\n                              href=\"#third\"\r\n                              role=\"tab\"\r\n                              data-toggle=\"tab\"\r\n                            ><img\r\n                                class=\"img-fluid\"\r\n                                v-if=\"product && product.photos && product.photos.length > 0\"\r\n                                :src=\"product.photos[3]\"\r\n                                alt=\"\"\r\n                              ></a>\r\n                          </li>\r\n                          <li role=\"presentation\">\r\n                            <a\r\n                              href=\"#for\"\r\n                              role=\"tab\"\r\n                              data-toggle=\"tab\"\r\n                            ><img\r\n                                class=\"img-fluid\"\r\n                                v-if=\"product && product.photos && product.photos.length > 0\"\r\n                                :src=\"product.photos[2]\"\r\n                                alt=\"\"\r\n                              ></a>\r\n                          </li>\r\n                        </ul>\r\n                      </div>\r\n                    </div>\r\n                    <!--Tab slider End-->\r\n                    <div class=\"col-xl-9 col-sm-12\">\r\n                      <div class=\"product-detail-content\">\r\n                        <!--Product details-->\r\n                        <div class=\"new-arrival-content pr\">\r\n                          <h4>{{product.title}}</h4>\r\n                          <div class=\"star-rating mb-2\">\r\n                            <template v-for=\"star in 5\">\r\n                              <i\r\n                                class=\"fa fa-star text-orange\"\r\n                                v-if=\"star <= product.overallRating\"\r\n                              ></i>\r\n                              <i\r\n                                class=\"fa fa-star-half-o text-orange\"\r\n                                v-else-if=\"star - 0.5 === product.overallRating\"\r\n                              ></i>\r\n                              <i\r\n                                class=\"fa fa-star-o text-orange\"\r\n                                v-else\r\n                              ></i>\r\n                            </template>\r\n                            <span class=\"review-text\">({{reviewsLength }}) / </span><a\r\n                              class=\"product-review\"\r\n                              @click=\"openModal1\"\r\n                            >Write a review?</a>/<a\r\n                              class=\"\"\r\n                              @click=\"openModal2\"\r\n                            >\r\n                              view reviews</a>\r\n                          </div>\r\n                          <p class=\"price\">${{product.price}}</p>\r\n                          <p>Availability: <span class=\"item\">{{product.availability ? 'In stock' : 'Out of stock'}} <i class=\"fa fa-shopping-basket\"></i></span>\r\n\r\n                          </p>\r\n                          <p>Product code: <span class=\"item\">0405689</span> </p>\r\n                          <p>Brand: <span class=\"item\">Lee</span></p>\r\n\r\n                          <p class=\"text-content\">{{product.description}}</p>\r\n\r\n                          <div class=\"col-2 px-0\">\r\n                            <div>\r\n                              <label for=\"quantity\">Quantity:</label>\r\n                              <input\r\n                                type=\"number\"\r\n                                id=\"quantity\"\r\n                                v-model=\"quantity\"\r\n                                min=\"1\"\r\n                              />\r\n                            </div>\r\n                            <p class=\"text-content\"> total Price: {{quantity * product.price}}</p>\r\n\r\n                          </div>\r\n                          <!-- Quantity End -->\r\n                          <div v-if=\"user.address\">\r\n                            <h6>Delivery Details</h6>\r\n                            <p>Street Address: {{ user.address.streetAddress }}</p>\r\n                            <p>City: {{ user.address.city }}</p>\r\n                            <p>number: {{ user.address.phoneNumber }}</p>\r\n                            <!-- Display other address properties here -->\r\n                          </div>\r\n                          <!-- If user.address is null or undefined -->\r\n                          <div v-else>\r\n                            <h6>No Address Found</h6>\r\n                            <p>Please add an address. <router-link\r\n                                to=\"/profile\"\r\n                                class=\"ml-auto text-primary font-w500\"\r\n                              >Add address</router-link>\r\n                            </p>\r\n                          </div>\r\n                          <spinner v-if=\"loading\" />\r\n\r\n                          <div class=\"payment-container pt-5\">\r\n                            <StripeElements\r\n                              v-if=\"stripeLoaded\"\r\n                              v-slot=\"{ elements, instance }\"\r\n                              ref=\"elms\"\r\n                              :stripe-key=\"stripeKey\"\r\n                              :instance-options=\"instanceOptions\"\r\n                              :elements-options=\"elementsOptions\"\r\n                              class=\"stripe-elements\"\r\n                            >\r\n                              <StripeElement\r\n                                ref=\"card\"\r\n                                :elements=\"elements\"\r\n                                :options=\"cardOptions\"\r\n                                class=\"stripe-card\"\r\n                              />\r\n                            </StripeElements>\r\n                            <button\r\n                              type=\"button\"\r\n                              class=\"pay-button\"\r\n                              :disabled=\"!product.availability\"\r\n                              :class=\"{ 'disabled-button': !product.availability }\"\r\n                              @click=\"pay\"\r\n                            >Pay</button>\r\n                          </div>\r\n\r\n                        </div>\r\n\r\n                      </div>\r\n                    </div>\r\n\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n\r\n      </div>\r\n      <div>\r\n        <div\r\n          v-if=\"isModalOpen2\"\r\n          class=\"modal-overlay\"\r\n        >\r\n          <div class=\"modal-container\">\r\n            <!-- Modal content -->\r\n            <div class=\"custom-modal\">\r\n              <div class=\"modal-content-container\">\r\n                <div\r\n                  v-for=\"review in product.reviews\"\r\n                  :key=\"review._id\"\r\n                >\r\n                  <h4>headline: {{ review.headline }}</h4>\r\n                  <p>body: {{ review.body }}</p>\r\n                  <p>\r\n                    Rating:\r\n                    <div class=\"star-rating\">\r\n                      <template v-for=\"star in 5\">\r\n                        <i\r\n                          class=\"fa fa-star\"\r\n                          :class=\"{ 'text-orange': star <= review.rating }\"\r\n                        ></i>\r\n                      </template>\r\n                    </div>\r\n                  </p>\r\n                  <p>User: {{ review.user }}</p>\r\n                </div>\r\n              </div>\r\n              <button\r\n                class=\"modal-close-btn btn-danger\"\r\n                @click=\"closeModal2\"\r\n              >\r\n                X\r\n              </button>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n      <div>\r\n        <div\r\n          v-if=\"isModalOpen1\"\r\n          class=\"modal-overlay\"\r\n        >\r\n          <div class=\"modal-container\">\r\n            <!-- Modal content -->\r\n            <div class=\"custom-modal\">\r\n              <div class=\"modal-content-container\">\r\n                <div class=\"a-spacing-top-medium\">\r\n                  <h1 class=\"a-spacing-base\">\r\n                    <b>Create Review</b>\r\n                  </h1>\r\n                  <div class=\"row\">\r\n                    <!-- Content -->\r\n                  </div>\r\n                  <div class=\"a-spacing-top-medium\"></div>\r\n                  <hr>\r\n                  <h4>{{ productTitle }}</h4>\r\n\r\n                  <h2 class=\"a-spacing-base\">Overall Rating</h2>\r\n                  <div class=\"a-row\">\r\n                    <!-- Rating -->\r\n\r\n                    <div>\r\n                      <span\r\n                        v-for=\"index in 5\"\r\n                        :key=\"index\"\r\n                        @click=\"setRating(index)\"\r\n                        :class=\"['star', { 'selected': index <= rating }]\"\r\n                      >\r\n                        <i class=\"fa fa-star\"></i>\r\n                      </span>\r\n                      <p>Selected Rating: {{ rating }}</p>\r\n                    </div>\r\n\r\n                  </div>\r\n                  <div class=\"a-row a-spacing-top-large\">\r\n\r\n                  </div>\r\n                  <div class=\"a-row a-spacing-top-medium\">\r\n\r\n                  </div>\r\n                  <div class=\"a-spacing-top-large\"></div>\r\n                  <hr>\r\n                  <!-- Headline -->\r\n                  <div class=\"headline a-spacing-large\">\r\n                    <h2 class=\"a-spacing-base\">Add a headline</h2>\r\n                    <input\r\n                      type=\"text \"\r\n                      class=\"a-input-text form-control\"\r\n                      style=\"width: 70%;\"\r\n                      placeholder=\"What's most important to know?\"\r\n                      v-model=\"headline\"\r\n                    >\r\n                  </div>\r\n                  <!-- Body -->\r\n                  <div class=\"a-spacing-base\">\r\n                    <h2 class=\"a-spacing-base\">Write your review</h2>\r\n                    <textarea\r\n                      class=\"form-control\"\r\n                      placeholder=\"What do you like or dislike? What did you see this product for?\"\r\n                      style=\"height:6em; width: 100%;\"\r\n                      v-model=\"body\"\r\n                    ></textarea>\r\n                  </div>\r\n                </div>\r\n\r\n                <hr>\r\n                <div class=\"a-spacing-top-medium\">\r\n                  <p style=\"font-size: 14px; font-weight: 700;\">This is how you'll appear to other customers:</p>\r\n                  <div class=\"media a-spacing-top-large\">\r\n                    <div class=\"media-left\">\r\n                      <img\r\n                        src=\"/img/avatar.png\"\r\n                        class=\"img-fluid\"\r\n                        style=\"width: 50px;\"\r\n                      >\r\n                    </div>\r\n                    <div class=\"media-body pl-3 pt-2\">\r\n                      <input\r\n                        type=\"text\"\r\n                        class=\"a-input-text form-control\"\r\n                        style=\"width: 100%;\"\r\n                        :value=\"name\"\r\n                      >\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n                <div class=\"a-row a-spacing-top-medium\">\r\n                  <span class=\"a-color-tertiary\">Don't worry, you can always change this on your profile</span>\r\n                </div>\r\n                <div class=\"a-row text-right a-spacing-top-large\">\r\n                  <button\r\n                    class=\"btn-primary border-1 btn-sm\"\r\n                    @click=\"onAddReview\"\r\n                  >Submit</button>\r\n                </div>\r\n              </div>\r\n              <button\r\n                class=\"modal-close-btn btn-danger\"\r\n                @click=\"closeModal1\"\r\n              >\r\n                X\r\n              </button>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n    </div>\r\n\r\n  </div>\r\n\r\n</template>\r\n<script>\r\nimport { StripeElements, StripeElement } from \"vue-stripe-js\";\r\nimport { loadStripe } from \"@stripe/stripe-js\";\r\nimport { defineComponent, ref, onBeforeMount } from \"vue\";\r\nimport axios from \"axios\";\r\nimport Spinner from \"@/components/spinner.vue\";\r\n\r\nimport axiosInstance from \"@/helpers/axiosInstance\";\r\nimport review from \"@/components/Review\";\r\nimport { mapActions, mapGetters } from \"vuex\";\r\nimport Swal from \"sweetalert2\";\r\n\r\nexport default defineComponent({\r\n  name: \"CardOnly\",\r\n  components: {\r\n    StripeElements,\r\n    StripeElement,\r\n    review,\r\n    Spinner\r\n  },\r\n\r\n  data() {\r\n    return {\r\n      stripeKey:\r\n        \"pk_test_51KGqWkHCcyZvTrDrTmAbtZkngRWbP0FCvV3bgZnz8GXuleqD1fo1lRa5seDD3qKsk0irYLumaH3SeI5cILED3pwq00NR023dNZ\",\r\n      instanceOptions: {},\r\n      elementsOptions: {},\r\n      cardOptions: {\r\n        value: {\r\n          postalCode: \"12345\"\r\n        }\r\n      },\r\n      rating: 0,\r\n      quantity: 1,\r\n      stripeLoaded: false,\r\n      loading: false,\r\n      totalPrice: null,\r\n      isModalOpen1: false,\r\n      isModalOpen2: false\r\n    };\r\n  },\r\n  computed: {\r\n    ...mapGetters([\"getProduct\", \"getUser\", \"getToken\", \"getReviews\"]),\r\n    product() {\r\n      return this.getProduct;\r\n    },\r\n    user() {\r\n      return this.getUser;\r\n    },\r\n    reviewsLength() {\r\n      const product = this.getProduct;\r\n      if (product && product.reviews) {\r\n        return product.reviews.length;\r\n      }\r\n      return 0;\r\n    }\r\n  },\r\n  mounted() {\r\n    const stripePromise = loadStripe(this.stripeKey);\r\n    stripePromise.then(() => {\r\n      this.stripeLoaded = true;\r\n    });\r\n    this.setActive(\"tab1\");\r\n    const productId = this.$route.params.id;\r\n    this.fetchProduct(productId);\r\n    this.fetchProductReviews(productId)\r\n      .then(() => {\r\n       // console.log(\"Reviews fetched successfully:\", this.fetchProductReviews);\r\n      })\r\n      .catch(error => {\r\n        console.error(\"Error fetching reviews:\", error);\r\n      });\r\n  },\r\n  methods: {\r\n    pay() {\r\n      this.loading = true;\r\n      const cardElement = this.$refs.elms.elements.getElement(\"card\");\r\n\r\n      this.$refs.elms.instance\r\n        .createToken(cardElement)\r\n        .then(result => {\r\n        //  console.log(result);\r\n          const token = result.token;\r\n\r\n          this.totalPrice = this.product ? this.product.price : null; // Assign product price to totalPrice if product is defined\r\n\r\n          const paymentData = {\r\n            token: token.id,\r\n            totalPrice: this.product ? this.product.price * this.quantity : 0,\r\n            productId: this.product ? this.product._id : null,\r\n            quantity: this.quantity\r\n          };\r\n\r\n          // Perform your custom logic here using the paymentData\r\n\r\n         // console.log(\"Payment data:\", paymentData);\r\n\r\n          // Call the function to send payment data to the server\r\n          this.sendPaymentData(paymentData);\r\n        })\r\n        .catch(error => {\r\n          //console.log(error);\r\n          // Handle error\r\n          // Display error message or redirect to an error page\r\n        });\r\n    },\r\n\r\n    sendPaymentData(paymentData) {\r\n      // const token = localStorage.getItem(\"token\");\r\n\r\n      axiosInstance\r\n        .post(\"http://localhost:5000/api/pay\", paymentData, {})\r\n        .then(response => {\r\n          //  console.log(response);\r\n          this.loading = false;\r\n\r\n          const totalPrice = this.product\r\n            ? this.product.price * this.quantity\r\n            : 0;\r\n          Swal.fire(\"Payment made:\", \"Total Price: $\" + totalPrice);\r\n\r\n          // Handle the response from the server\r\n          // Display success message or redirect to a success page\r\n        })\r\n        .catch(error => {\r\n          this.loading = false;\r\n\r\n          //console.log(error);\r\n          Swal.fire(\"check your details:\");\r\n\r\n          // Handle error\r\n          // Display error message or redirect to an error page\r\n        });\r\n    },\r\n    openModal1() {\r\n      this.isModalOpen1 = true;\r\n    },\r\n    openModal2() {\r\n      this.isModalOpen2 = true;\r\n    },\r\n    closeModal1() {\r\n      this.isModalOpen1 = false;\r\n    },\r\n    closeModal2() {\r\n      this.isModalOpen2 = false;\r\n    },\r\n    isActive(tab) {\r\n      return this.activeItem === tab;\r\n    },\r\n    setActive(tab) {\r\n      this.activeItem = tab;\r\n    },\r\n    setRating(index) {\r\n      this.rating = index;\r\n    },\r\n    onChangeQuantity(event, product) {\r\n      let qty = parseInt(event.target.value);\r\n      this.$store.commit(\"changeQty\", { product, qty });\r\n    },\r\n    checkQty(prodQty, qty) {\r\n      if (parseInt(prodQty) === parseInt(qty)) {\r\n        return true;\r\n      } else {\r\n        return false;\r\n      }\r\n    },\r\n    async onAddReview() {\r\n      try {\r\n        const reviewData = {\r\n          productId: this.$route.params.id,\r\n          review: {\r\n            headline: this.headline,\r\n            body: this.body,\r\n            rating: this.rating\r\n          }\r\n        };\r\n       // console.log(reviewData);\r\n\r\n        await this.$store.dispatch(\"onAddReview\", reviewData);\r\n        await this.$store.dispatch(\r\n          \"fetchProductReviews\",\r\n          this.$route.params.id\r\n        ); // Fetch the updated reviews for the product\r\n        this.$router.push(`/product/${this.$route.params.id}`);\r\n        this.isModalOpen1 = false;\r\n      } catch (err) {\r\n       // console.log(err);\r\n      }\r\n    },\r\n    async fetchProductReviews(productId) {\r\n      await this.$store.dispatch(\"fetchProductReviews\", productId); // Dispatch the action to fetch product reviews\r\n      this.reviewsLength = this.getReviews.length; // Update the reviewsLength using the getter\r\n    },\r\n\r\n    ...mapActions([\r\n      \"fetchProduct\",\r\n      \"addProductToCart\",\r\n      \"likeProducts\",\r\n      \"fetchProductReviews\"\r\n    ])\r\n  }\r\n});\r\n</script>\r\n\r\n<style>\r\n.modal-overlay {\r\n  position: fixed;\r\n  top: 0;\r\n  left: 0;\r\n  width: 100%;\r\n  height: 100%;\r\n  background-color: rgba(0, 0, 0, 0.5);\r\n  display: flex;\r\n  justify-content: center;\r\n  align-items: center;\r\n}\r\n.custom-tab-pane {\r\n  background-color: transparent;\r\n}\r\n.tab-container {\r\n  max-width: 500px;\r\n  margin: 0 auto;\r\n}\r\n\r\n.tab-buttons {\r\n  display: flex;\r\n  justify-content: center;\r\n  margin-bottom: 20px;\r\n}\r\n\r\n.tab-buttons button {\r\n  background-color: #eee;\r\n  border: none;\r\n  padding: 10px 20px;\r\n  margin-right: 10px;\r\n  cursor: pointer;\r\n  font-size: 16px;\r\n  transition: background-color 0.3s;\r\n}\r\n\r\n.tab-buttons button:hover {\r\n  background-color: #ddd;\r\n}\r\n\r\n.tab-buttons button.active {\r\n  background-color: #ccc;\r\n}\r\n\r\n.tab-content .tab-pane {\r\n  padding: 20px;\r\n  background-color: #f5f5f5;\r\n  border: 1px solid #ccc;\r\n  border-top: none;\r\n  display: none;\r\n}\r\n\r\n.tab-content .tab-pane.active {\r\n  display: block;\r\n}\r\n.custom-modal {\r\n  /* Add your custom modal styles here */\r\n}\r\n.modal-container {\r\n  position: fixed;\r\n  top: 50%;\r\n  left: 50%;\r\n  transform: translate(-50%, -50%);\r\n  background-color: #fff;\r\n  padding: 20px;\r\n  border-radius: 5px;\r\n  max-width: 500px;\r\n  width: 100%;\r\n}\r\n.star {\r\n  color: #ccc; /* Default star color */\r\n  cursor: pointer;\r\n}\r\n.disabled-button {\r\n  filter: blur(3px); /* Apply the blur effect */\r\n}\r\n.payment-container {\r\n  display: flex;\r\n  flex-direction: column;\r\n  align-items: center;\r\n}\r\n\r\n.stripe-elements {\r\n  width: 100%;\r\n  padding: 10px;\r\n  border: 1px solid #ccc;\r\n  border-radius: 4px;\r\n  margin-bottom: 10px;\r\n}\r\n\r\n.stripe-card {\r\n  width: 100%;\r\n  padding: 10px;\r\n  border: 1px solid #ccc;\r\n  border-radius: 4px;\r\n  margin-bottom: 10px;\r\n}\r\n\r\n.pay-button {\r\n  padding: 10px 20px;\r\n  background-color: #4caf50;\r\n  color: white;\r\n  border: none;\r\n  border-radius: 4px;\r\n  cursor: pointer;\r\n  font-size: 16px;\r\n}\r\n\r\n.pay-button:hover {\r\n  background-color: #45a049;\r\n}\r\n\r\n.pay-button:active {\r\n  background-color: #3e8e41;\r\n}\r\n.modal-content-container {\r\n  height: 300px; /* Set the desired height */\r\n  overflow-y: auto; /* Enable vertical scroll */\r\n}\r\n.star.selected {\r\n  color: gold; /* Selected star color */\r\n}\r\n.modal-close-btn {\r\n  margin-top: 10px;\r\n}\r\n</style>\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}