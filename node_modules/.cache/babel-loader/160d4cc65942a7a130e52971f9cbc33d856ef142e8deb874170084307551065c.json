{"ast":null,"code":"import { createElementVNode as _createElementVNode, vModelText as _vModelText, withDirectives as _withDirectives, createTextVNode as _createTextVNode, resolveComponent as _resolveComponent, withCtx as _withCtx, createVNode as _createVNode, withModifiers as _withModifiers, createCommentVNode as _createCommentVNode, createStaticVNode as _createStaticVNode, Fragment as _Fragment, openBlock as _openBlock, createElementBlock as _createElementBlock } from \"vue\";\nconst _hoisted_1 = {\n  class: \"container d-flex justify-content-center align-items-center\"\n};\nconst _hoisted_2 = {\n  class: \"card\",\n  style: {\n    \"width\": \"18rem\"\n  }\n};\nconst _hoisted_3 = {\n  class: \"auth-form\"\n};\nconst _hoisted_4 = /*#__PURE__*/_createElementVNode(\"h4\", {\n  class: \"text-center mb-4\"\n}, \"Sign in your account\", -1 /* HOISTED */);\nconst _hoisted_5 = {\n  class: \"form-group mb-3\"\n};\nconst _hoisted_6 = /*#__PURE__*/_createElementVNode(\"label\", {\n  class: \"mb-1\"\n}, [/*#__PURE__*/_createElementVNode(\"strong\", null, \"Email\")], -1 /* HOISTED */);\nconst _hoisted_7 = {\n  class: \"form-group mb-3\"\n};\nconst _hoisted_8 = /*#__PURE__*/_createElementVNode(\"label\", {\n  class: \"mb-1\"\n}, [/*#__PURE__*/_createElementVNode(\"strong\", null, \"Password\")], -1 /* HOISTED */);\nconst _hoisted_9 = {\n  class: \"d-flex justify-content-between align-items-center mb-3\"\n};\nconst _hoisted_10 = {\n  class: \"text-center mb-3\"\n};\nconst _hoisted_11 = {\n  class: \"text-center\"\n};\nconst _hoisted_12 = /*#__PURE__*/_createStaticVNode(\"<svg xmlns=\\\"http://www.w3.org/2000/svg\\\" viewBox=\\\"0 0 48 48\\\" width=\\\"24px\\\" height=\\\"24px\\\"><path fill=\\\"#4285F4\\\" d=\\\"M45.7,20.8H24.5v7.9h11.4c-0.4,2.1-1.6,3.9-3.4,5.2v4.3h5.5c3.2-2.9,5.1-7.3,5.1-12.2C43.6,25.7,44.8,23.1,45.7,20.8z\\\"></path><path fill=\\\"#34A853\\\" d=\\\"M24.5,41.1c4.6,0,8.5-1.5,11.4-4h-5.5c-1.5,0.9-3.4,1.5-5.9,1.5c-4.5,0-8.3-3-9.7-7.1l-5.8,4.5C11.7,38.6,17.6,41.1,24.5,41.1z\\\"></path><path fill=\\\"#FBBC04\\\" d=\\\"M14.8,28c-0.1-1.3-0.2-2.7-0.2-4c0-1.3,0.1-2.7,0.2-4l-5.8-4.5c-1.6,3.6-1.6,7.7,0,11.3L14.8,28z\\\"></path><path fill=\\\"#EB4335\\\" d=\\\"M24.5,13.6c2.4,0,4.4,0.8,5.9,2.2l4.4-4.4C33,8.9,28.9,7.2,24.5,7.2c-6.9,0-12.8,2.5-17.4,6.6l5.8,4.5C16.2,16.5,20,13.6,24.5,13.6z\\\"></path></svg>\", 1);\nconst _hoisted_13 = {\n  class: \"new-account mt-4 text-center\"\n};\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  const _component_router_link = _resolveComponent(\"router-link\");\n  return _openBlock(), _createElementBlock(_Fragment, null, [_createElementVNode(\"div\", _hoisted_1, [_createElementVNode(\"div\", _hoisted_2, [_createElementVNode(\"div\", _hoisted_3, [_hoisted_4, _createElementVNode(\"form\", {\n    onSubmit: _cache[4] || (_cache[4] = _withModifiers(() => {}, [\"prevent\"]))\n  }, [_createElementVNode(\"div\", _hoisted_5, [_hoisted_6, _withDirectives(_createElementVNode(\"input\", {\n    type: \"email\",\n    \"onUpdate:modelValue\": _cache[0] || (_cache[0] = $event => $data.email = $event),\n    class: \"form-control\",\n    placeholder: \"hello@example.com\"\n  }, null, 512 /* NEED_PATCH */), [[_vModelText, $data.email]])]), _createElementVNode(\"div\", _hoisted_7, [_hoisted_8, _withDirectives(_createElementVNode(\"input\", {\n    type: \"password\",\n    \"onUpdate:modelValue\": _cache[1] || (_cache[1] = $event => $data.password = $event),\n    class: \"form-control\",\n    placeholder: \"****\"\n  }, null, 512 /* NEED_PATCH */), [[_vModelText, $data.password]])]), _createElementVNode(\"div\", _hoisted_9, [_createVNode(_component_router_link, {\n    to: \"/forgot-password\",\n    class: \"small text-decoration-none\"\n  }, {\n    default: _withCtx(() => [_createTextVNode(\" Forgot Password? \")]),\n    _: 1 /* STABLE */\n  })]), _createElementVNode(\"div\", _hoisted_10, [_createElementVNode(\"button\", {\n    onClick: _cache[2] || (_cache[2] = (...args) => $options.loginUser && $options.loginUser(...args)),\n    class: \"btn btn-primary w-100\",\n    type: \"submit\"\n  }, \" Sign Me In \")]), _createElementVNode(\"div\", _hoisted_11, [_createElementVNode(\"button\", {\n    onClick: _cache[3] || (_cache[3] = (...args) => $options.login && $options.login(...args)),\n    type: \"button\",\n    class: \"btn btn-outline-primary w-100 d-flex align-items-center justify-content-center gap-2\"\n  }, [_hoisted_12, _createTextVNode(\" Login Using Google \")])])], 32 /* HYDRATE_EVENTS */), _createElementVNode(\"div\", _hoisted_13, [_createElementVNode(\"p\", null, [_createTextVNode(\"Don't have an account? \"), _createVNode(_component_router_link, {\n    to: \"/register\",\n    class: \"text-primary text-decoration-none\"\n  }, {\n    default: _withCtx(() => [_createTextVNode(\" Sign up \")]),\n    _: 1 /* STABLE */\n  })])])])])]), _createCommentVNode(\"**********************************\\r\\n        Scripts\\r\\n    ***********************************\"), _createCommentVNode(\" Required vendors \")], 2112 /* STABLE_FRAGMENT, DEV_ROOT_FRAGMENT */);\n}","map":{"version":3,"names":["class","style","_createElementVNode","_hoisted_1","_hoisted_2","_hoisted_3","_hoisted_4","onSubmit","_cache","_withModifiers","_hoisted_5","_hoisted_6","type","$data","email","$event","placeholder","_hoisted_7","_hoisted_8","password","_hoisted_9","_createVNode","_component_router_link","to","_hoisted_10","onClick","args","$options","loginUser","_hoisted_11","login","_hoisted_12","_hoisted_13","_createCommentVNode"],"sources":["C:\\Users\\ajib\\OneDrive\\Desktop\\event-ticket\\vue3-restaurant-dashboard\\src\\components\\auth\\Login.vue"],"sourcesContent":["<template>\r\n\r\n\r\n                 <div class=\"container d-flex justify-content-center align-items-center\">\r\n <div class=\"card\" style=\"width: 18rem;\">\r\n      <div class=\"auth-form\">\r\n        <h4 class=\"text-center mb-4\">Sign in your account</h4>\r\n\r\n        <form @submit.prevent=\"\">\r\n          <div class=\"form-group mb-3\">\r\n            <label class=\"mb-1\"><strong>Email</strong></label>\r\n            <input\r\n              type=\"email\"\r\n              v-model=\"email\"\r\n              class=\"form-control\"\r\n              placeholder=\"hello@example.com\"\r\n            >\r\n          </div>\r\n\r\n          <div class=\"form-group mb-3\">\r\n            <label class=\"mb-1\"><strong>Password</strong></label>\r\n            <input\r\n              type=\"password\"\r\n              v-model=\"password\"\r\n              class=\"form-control\"\r\n              placeholder=\"****\"\r\n            >\r\n          </div>\r\n\r\n          <div class=\"d-flex justify-content-between align-items-center mb-3\">\r\n            <router-link to=\"/forgot-password\" class=\"small text-decoration-none\">\r\n              Forgot Password?\r\n            </router-link>\r\n          </div>\r\n\r\n          <div class=\"text-center mb-3\">\r\n            <button\r\n              @click=\"loginUser\"\r\n              class=\"btn btn-primary w-100\"\r\n              type=\"submit\"\r\n            >\r\n              Sign Me In\r\n            </button>\r\n          </div>\r\n\r\n          <div class=\"text-center\">\r\n            <button\r\n              @click=\"login\"\r\n              type=\"button\"\r\n              class=\"btn btn-outline-primary w-100 d-flex align-items-center justify-content-center gap-2\"\r\n            >\r\n              <svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 48 48\" width=\"24px\" height=\"24px\">\r\n                <path fill=\"#4285F4\" d=\"M45.7,20.8H24.5v7.9h11.4c-0.4,2.1-1.6,3.9-3.4,5.2v4.3h5.5c3.2-2.9,5.1-7.3,5.1-12.2C43.6,25.7,44.8,23.1,45.7,20.8z\"/>\r\n                <path fill=\"#34A853\" d=\"M24.5,41.1c4.6,0,8.5-1.5,11.4-4h-5.5c-1.5,0.9-3.4,1.5-5.9,1.5c-4.5,0-8.3-3-9.7-7.1l-5.8,4.5C11.7,38.6,17.6,41.1,24.5,41.1z\"/>\r\n                <path fill=\"#FBBC04\" d=\"M14.8,28c-0.1-1.3-0.2-2.7-0.2-4c0-1.3,0.1-2.7,0.2-4l-5.8-4.5c-1.6,3.6-1.6,7.7,0,11.3L14.8,28z\"/>\r\n                <path fill=\"#EB4335\" d=\"M24.5,13.6c2.4,0,4.4,0.8,5.9,2.2l4.4-4.4C33,8.9,28.9,7.2,24.5,7.2c-6.9,0-12.8,2.5-17.4,6.6l5.8,4.5C16.2,16.5,20,13.6,24.5,13.6z\"/>\r\n              </svg>\r\n              Login Using Google\r\n            </button>\r\n          </div>\r\n        </form>\r\n\r\n        <div class=\"new-account mt-4 text-center\">\r\n          <p>Don't have an account? \r\n            <router-link to=\"/register\" class=\"text-primary text-decoration-none\">\r\n              Sign up\r\n            </router-link>\r\n          </p>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n               \r\n\r\n    <!--**********************************\r\n        Scripts\r\n    ***********************************-->\r\n    <!-- Required vendors -->\r\n\r\n\r\n</template>\r\n<script>\r\n\r\nimport { mapActions } from \"vuex\";\r\nimport { googleSdkLoaded } from \"vue3-google-login\";\r\nimport Swal from \"sweetalert2\";\r\nimport jwt_decode from \"jwt-decode\";\r\n\r\nexport default {\r\n  data() {\r\n    return {\r\n      name: \"\",\r\n      email: \"\",\r\n      password: \"\"\r\n    };\r\n  },\r\n  methods: {\r\n    ...mapActions([\"LOGIN_USER\", \"sendCodeToBackend\"]),\r\n    login() {\r\n      googleSdkLoaded(google => {\r\n        google.accounts.oauth2\r\n          .initCodeClient({\r\n            client_id:\r\n              \"58730156701-d27fqgjbhmuqt974hav87of8hofgi6i0.apps.googleusercontent.com\",\r\n            scope: \"email profile openid\",\r\n            redirect_uri: \"https://restaurant-n54j.onrender.com/auth/callback\",\r\n            callback: response => {\r\n              if (response.code) {\r\n                this.sendCodeToBackend(response.code);\r\n              }\r\n            }\r\n          })\r\n          .requestCode();\r\n      });\r\n    },\r\n    loginUser() {\r\n      const payload = {\r\n        email: this.email,\r\n        password: this.password\r\n      };\r\n\r\n      this.LOGIN_USER(payload)\r\n        .then(response => {\r\n          const decodedToken = jwt_decode(response.token);\r\n         // console.log(decodedToken);\r\n          // Access the decoded token properties\r\n          const isAdmin = decodedToken.isAdmin;\r\n\r\n          Swal.fire(\"login successful\");\r\n\r\n          // Redirect based on user role\r\n          //console.log(\"isAdmin:\", isAdmin);\r\n          this.$router.push('/')\r\n\r\n\r\n        })\r\n        .catch(err => {\r\n          const message = err.message;\r\n\r\n          Swal.fire(\"Oh oo!\", `${message}`, \"error\");\r\n        });\r\n    }\r\n  }\r\n};\r\n</script>\r\n<style scoped>\r\n</style>\r\n"],"mappings":";;EAGsBA,KAAK,EAAC;AAA4D;;EAClFA,KAAK,EAAC,MAAM;EAACC,KAAqB,EAArB;IAAA;EAAA;;;EACRD,KAAK,EAAC;AAAW;gCACpBE,mBAAA,CAAsD;EAAlDF,KAAK,EAAC;AAAkB,GAAC,sBAAoB;;EAG1CA,KAAK,EAAC;AAAiB;gCAC1BE,mBAAA,CAAkD;EAA3CF,KAAK,EAAC;AAAM,I,aAACE,mBAAA,CAAsB,gBAAd,OAAK,E;;EAS9BF,KAAK,EAAC;AAAiB;gCAC1BE,mBAAA,CAAqD;EAA9CF,KAAK,EAAC;AAAM,I,aAACE,mBAAA,CAAyB,gBAAjB,UAAQ,E;;EASjCF,KAAK,EAAC;AAAwD;;EAM9DA,KAAK,EAAC;AAAkB;;EAUxBA,KAAK,EAAC;AAAa;;;EAiBrBA,KAAK,EAAC;AAA8B;;;6DA3DhCE,mBAAA,CAoET,OApESC,UAoET,GAnEPD,mBAAA,CAkES,OAlETE,UAkES,GAjEJF,mBAAA,CAgEM,OAhENG,UAgEM,GA/DJC,UAAsD,EAEtDJ,mBAAA,CAoDO;IApDAK,QAAM,EAAAC,MAAA,QAAAA,MAAA,MAAAC,cAAA,CAAP,QAAkB;MACtBP,mBAAA,CAQM,OARNQ,UAQM,GAPJC,UAAkD,E,gBAClDT,mBAAA,CAKC;IAJCU,IAAI,EAAC,OAAO;+DACHC,KAAA,CAAAC,KAAK,GAAAC,MAAA;IACdf,KAAK,EAAC,cAAc;IACpBgB,WAAW,EAAC;iDAFHH,KAAA,CAAAC,KAAK,E,KAMlBZ,mBAAA,CAQM,OARNe,UAQM,GAPJC,UAAqD,E,gBACrDhB,mBAAA,CAKC;IAJCU,IAAI,EAAC,UAAU;+DACNC,KAAA,CAAAM,QAAQ,GAAAJ,MAAA;IACjBf,KAAK,EAAC,cAAc;IACpBgB,WAAW,EAAC;iDAFHH,KAAA,CAAAM,QAAQ,E,KAMrBjB,mBAAA,CAIM,OAJNkB,UAIM,GAHJC,YAAA,CAEcC,sBAAA;IAFDC,EAAE,EAAC,kBAAkB;IAACvB,KAAK,EAAC;;sBAA6B,MAEtE,C,iBAFsE,oBAEtE,E;;QAGFE,mBAAA,CAQM,OARNsB,WAQM,GAPJtB,mBAAA,CAMS;IALNuB,OAAK,EAAAjB,MAAA,QAAAA,MAAA,UAAAkB,IAAA,KAAEC,QAAA,CAAAC,SAAA,IAAAD,QAAA,CAAAC,SAAA,IAAAF,IAAA,CAAS;IACjB1B,KAAK,EAAC,uBAAuB;IAC7BY,IAAI,EAAC;KACN,cAED,E,GAGFV,mBAAA,CAcM,OAdN2B,WAcM,GAbJ3B,mBAAA,CAYS;IAXNuB,OAAK,EAAAjB,MAAA,QAAAA,MAAA,UAAAkB,IAAA,KAAEC,QAAA,CAAAG,KAAA,IAAAH,QAAA,CAAAG,KAAA,IAAAJ,IAAA,CAAK;IACbd,IAAI,EAAC,QAAQ;IACbZ,KAAK,EAAC;MAEN+B,WAKM,E,iBAAA,sBAER,E,gCAIJ7B,mBAAA,CAMM,OANN8B,WAMM,GALJ9B,mBAAA,CAII,Y,iBAJD,yBACD,GAAAmB,YAAA,CAEcC,sBAAA;IAFDC,EAAE,EAAC,WAAW;IAACvB,KAAK,EAAC;;sBAAoC,MAEtE,C,iBAFsE,WAEtE,E;;gBAQRiC,mBAAA,oGAEsC,EACtCA,mBAAA,sBAAyB,C"},"metadata":{},"sourceType":"module","externalDependencies":[]}