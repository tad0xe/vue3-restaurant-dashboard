{"ast":null,"code":"import { createElementVNode as _createElementVNode, vModelText as _vModelText, withDirectives as _withDirectives, withModifiers as _withModifiers, toDisplayString as _toDisplayString, openBlock as _openBlock, createElementBlock as _createElementBlock, createCommentVNode as _createCommentVNode } from \"vue\";\nconst _hoisted_1 = {\n  class: \"container mt-5\"\n};\nconst _hoisted_2 = [\"onSubmit\"];\nconst _hoisted_3 = {\n  class: \"mb-3\"\n};\nconst _hoisted_4 = /*#__PURE__*/_createElementVNode(\"label\", {\n  class: \"form-label\"\n}, \"Title\", -1 /* HOISTED */);\nconst _hoisted_5 = {\n  class: \"mb-3\"\n};\nconst _hoisted_6 = /*#__PURE__*/_createElementVNode(\"label\", {\n  class: \"form-label\"\n}, \"Brand\", -1 /* HOISTED */);\nconst _hoisted_7 = {\n  class: \"mb-3\"\n};\nconst _hoisted_8 = /*#__PURE__*/_createElementVNode(\"label\", {\n  class: \"form-label\"\n}, \"Description\", -1 /* HOISTED */);\nconst _hoisted_9 = {\n  class: \"mb-3\"\n};\nconst _hoisted_10 = /*#__PURE__*/_createElementVNode(\"label\", {\n  class: \"form-label\"\n}, \"Availability\", -1 /* HOISTED */);\nconst _hoisted_11 = {\n  class: \"mb-3\"\n};\nconst _hoisted_12 = /*#__PURE__*/_createElementVNode(\"label\", {\n  class: \"form-label\"\n}, \"Price\", -1 /* HOISTED */);\nconst _hoisted_13 = {\n  class: \"mb-3\"\n};\nconst _hoisted_14 = /*#__PURE__*/_createElementVNode(\"label\", {\n  class: \"form-label\"\n}, \"Stock Quantity\", -1 /* HOISTED */);\nconst _hoisted_15 = {\n  class: \"mb-3\"\n};\nconst _hoisted_16 = /*#__PURE__*/_createElementVNode(\"label\", {\n  class: \"form-label\"\n}, \"Photos\", -1 /* HOISTED */);\nconst _hoisted_17 = /*#__PURE__*/_createElementVNode(\"button\", {\n  type: \"submit\",\n  class: \"btn btn-primary\"\n}, \"Submit Product\", -1 /* HOISTED */);\nconst _hoisted_18 = {\n  key: 0,\n  class: \"alert alert-info mt-3\"\n};\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  return _openBlock(), _createElementBlock(\"div\", _hoisted_1, [_createElementVNode(\"form\", {\n    onSubmit: _withModifiers($setup.submitProduct, [\"prevent\"]),\n    enctype: \"multipart/form-data\"\n  }, [_createElementVNode(\"div\", _hoisted_3, [_hoisted_4, _withDirectives(_createElementVNode(\"input\", {\n    \"onUpdate:modelValue\": _cache[0] || (_cache[0] = $event => $setup.product.title = $event),\n    type: \"text\",\n    class: \"form-control\",\n    required: \"\"\n  }, null, 512 /* NEED_PATCH */), [[_vModelText, $setup.product.title]])]), _createElementVNode(\"div\", _hoisted_5, [_hoisted_6, _withDirectives(_createElementVNode(\"input\", {\n    \"onUpdate:modelValue\": _cache[1] || (_cache[1] = $event => $setup.product.brand = $event),\n    type: \"text\",\n    class: \"form-control\",\n    required: \"\"\n  }, null, 512 /* NEED_PATCH */), [[_vModelText, $setup.product.brand]])]), _createElementVNode(\"div\", _hoisted_7, [_hoisted_8, _withDirectives(_createElementVNode(\"textarea\", {\n    \"onUpdate:modelValue\": _cache[2] || (_cache[2] = $event => $setup.product.description = $event),\n    class: \"form-control\",\n    required: \"\"\n  }, null, 512 /* NEED_PATCH */), [[_vModelText, $setup.product.description]])]), _createElementVNode(\"div\", _hoisted_9, [_hoisted_10, _withDirectives(_createElementVNode(\"input\", {\n    \"onUpdate:modelValue\": _cache[3] || (_cache[3] = $event => $setup.product.availability = $event),\n    type: \"text\",\n    class: \"form-control\"\n  }, null, 512 /* NEED_PATCH */), [[_vModelText, $setup.product.availability]])]), _createElementVNode(\"div\", _hoisted_11, [_hoisted_12, _withDirectives(_createElementVNode(\"input\", {\n    \"onUpdate:modelValue\": _cache[4] || (_cache[4] = $event => $setup.product.price = $event),\n    type: \"number\",\n    class: \"form-control\"\n  }, null, 512 /* NEED_PATCH */), [[_vModelText, $setup.product.price, void 0, {\n    number: true\n  }]])]), _createElementVNode(\"div\", _hoisted_13, [_hoisted_14, _withDirectives(_createElementVNode(\"input\", {\n    \"onUpdate:modelValue\": _cache[5] || (_cache[5] = $event => $setup.product.stockQuantity = $event),\n    type: \"number\",\n    class: \"form-control\"\n  }, null, 512 /* NEED_PATCH */), [[_vModelText, $setup.product.stockQuantity, void 0, {\n    number: true\n  }]])]), _createElementVNode(\"div\", _hoisted_15, [_hoisted_16, _createElementVNode(\"input\", {\n    onChange: $setup.handleFileChange,\n    type: \"file\",\n    multiple: \"\",\n    class: \"form-control\"\n  }, null, 32 /* HYDRATE_EVENTS */)]), _hoisted_17], 40 /* PROPS, HYDRATE_EVENTS */, _hoisted_2), $setup.uploadMsg ? (_openBlock(), _createElementBlock(\"div\", _hoisted_18, _toDisplayString($setup.uploadMsg), 1 /* TEXT */)) : _createCommentVNode(\"v-if\", true)]);\n}","map":{"version":3,"names":["class","_createElementVNode","type","_createElementBlock","_hoisted_1","onSubmit","_withModifiers","$setup","submitProduct","enctype","_hoisted_3","_hoisted_4","product","title","$event","required","_hoisted_5","_hoisted_6","brand","_hoisted_7","_hoisted_8","description","_hoisted_9","_hoisted_10","availability","_hoisted_11","_hoisted_12","price","_hoisted_13","_hoisted_14","stockQuantity","_hoisted_15","_hoisted_16","onChange","handleFileChange","multiple","_hoisted_17","uploadMsg","_hoisted_18","_toDisplayString"],"sources":["C:\\Users\\ajib\\OneDrive\\Desktop\\event-ticket\\event-ticket-frontend\\src\\components\\rex.vue"],"sourcesContent":["<template>\r\n  <div class=\"container mt-5\">\r\n    <form @submit.prevent=\"submitProduct\" enctype=\"multipart/form-data\">\r\n      <div class=\"mb-3\">\r\n        <label class=\"form-label\">Title</label>\r\n        <input v-model=\"product.title\" type=\"text\" class=\"form-control\" required />\r\n      </div>\r\n\r\n      <div class=\"mb-3\">\r\n        <label class=\"form-label\">Brand</label>\r\n        <input v-model=\"product.brand\" type=\"text\" class=\"form-control\" required />\r\n      </div>\r\n\r\n      <div class=\"mb-3\">\r\n        <label class=\"form-label\">Description</label>\r\n        <textarea v-model=\"product.description\" class=\"form-control\" required></textarea>\r\n      </div>\r\n\r\n      <div class=\"mb-3\">\r\n        <label class=\"form-label\">Availability</label>\r\n        <input v-model=\"product.availability\" type=\"text\" class=\"form-control\" />\r\n      </div>\r\n\r\n      <div class=\"mb-3\">\r\n        <label class=\"form-label\">Price</label>\r\n        <input v-model.number=\"product.price\" type=\"number\" class=\"form-control\" />\r\n      </div>\r\n\r\n      <div class=\"mb-3\">\r\n        <label class=\"form-label\">Stock Quantity</label>\r\n        <input v-model.number=\"product.stockQuantity\" type=\"number\" class=\"form-control\" />\r\n      </div>\r\n\r\n      <div class=\"mb-3\">\r\n        <label class=\"form-label\">Photos</label>\r\n        <input @change=\"handleFileChange\" type=\"file\" multiple class=\"form-control\" />\r\n      </div>\r\n\r\n      <button type=\"submit\" class=\"btn btn-primary\">Submit Product</button>\r\n    </form>\r\n\r\n    <div v-if=\"uploadMsg\" class=\"alert alert-info mt-3\">\r\n      {{ uploadMsg }}\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script setup>\r\nimport { ref } from 'vue'\r\nimport axios from 'axios'\r\nimport isAdmin from \"@/helpers/isAdmin.js\";\r\n\r\n\r\nconst product = ref({\r\n  title: '',\r\n  brand: '',\r\n  description: '',\r\n  availability: '',\r\n  price: null,\r\n  stockQuantity: null\r\n})\r\n\r\nconst files = ref([])\r\nconst uploadMsg = ref('')\r\n\r\nconst handleFileChange = (event) => {\r\n  files.value = Array.from(event.target.files)\r\n}\r\n\r\nconst submitProduct = async () => {\r\n  const formData = new FormData()\r\n\r\n  // Append all form fields\r\n  for (const key in product.value) {\r\n    formData.append(key, product.value[key])\r\n  }\r\n\r\n  // Append each photo file\r\n  files.value.forEach(file => {\r\n    formData.append('photos', file) // must match 'photos' in upload.array(\"photos\", 10)\r\n  })\r\n\r\n  try {\r\n    const response = await axios.post('http://localhost:4000/api/products', formData, {\r\n      headers: {\r\n        'Content-Type': 'multipart/form-data',\r\n         Authorization: `Bearer ${isAdmin()}` // Replace with actual token\r\n      }\r\n    })\r\n\r\n    uploadMsg.value = response.data.msg\r\n  } catch (error) {\r\n    console.error(error)\r\n    uploadMsg.value = 'Upload failed.'\r\n  }\r\n}\r\n</script>\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}