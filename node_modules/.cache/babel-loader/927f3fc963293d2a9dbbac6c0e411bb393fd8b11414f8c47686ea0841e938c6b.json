{"ast":null,"code":"import { createElementVNode as _createElementVNode, createStaticVNode as _createStaticVNode, openBlock as _openBlock, createElementBlock as _createElementBlock } from \"vue\";\nconst _hoisted_1 = /*#__PURE__*/_createStaticVNode(\"<div class=\\\"row\\\"><div class=\\\"col\\\"><input type=\\\"text\\\" class=\\\"form-control\\\" placeholder=\\\"First name\\\" aria-label=\\\"First name\\\"></div><div class=\\\"col\\\"><input type=\\\"text\\\" class=\\\"form-control\\\" placeholder=\\\"Last name\\\" aria-label=\\\"Last name\\\"></div></div>\", 1);\nconst _hoisted_2 = [_hoisted_1];\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  return _openBlock(), _createElementBlock(\"div\", null, _hoisted_2);\n}","map":{"version":3,"names":["_hoisted_1","_createElementBlock","_hoisted_2"],"sources":["C:\\Users\\ajib\\OneDrive\\Desktop\\event-ticket\\vue3-restaurant-dashboard\\src\\components\\auth\\Login.vue"],"sourcesContent":["<template>\r\n\r\n <div><div class=\"row\">\r\n  <div class=\"col\">\r\n    <input type=\"text\" class=\"form-control\" placeholder=\"First name\" aria-label=\"First name\">\r\n  </div>\r\n  <div class=\"col\">\r\n    <input type=\"text\" class=\"form-control\" placeholder=\"Last name\" aria-label=\"Last name\">\r\n  </div>\r\n</div></div>\r\n</template>\r\n<script>\r\n\r\nimport { mapActions } from \"vuex\";\r\nimport { googleSdkLoaded } from \"vue3-google-login\";\r\nimport Swal from \"sweetalert2\";\r\nimport jwt_decode from \"jwt-decode\";\r\n\r\nexport default {\r\n  data() {\r\n    return {\r\n      name: \"\",\r\n      email: \"\",\r\n      password: \"\"\r\n    };\r\n  },\r\n  methods: {\r\n    ...mapActions([\"LOGIN_USER\", \"sendCodeToBackend\"]),\r\n    login() {\r\n      googleSdkLoaded(google => {\r\n        google.accounts.oauth2\r\n          .initCodeClient({\r\n            client_id:\r\n              \"58730156701-d27fqgjbhmuqt974hav87of8hofgi6i0.apps.googleusercontent.com\",\r\n            scope: \"email profile openid\",\r\n            redirect_uri: \"https://restaurant-n54j.onrender.com/auth/callback\",\r\n            callback: response => {\r\n              if (response.code) {\r\n                this.sendCodeToBackend(response.code);\r\n              }\r\n            }\r\n          })\r\n          .requestCode();\r\n      });\r\n    },\r\n    loginUser() {\r\n      const payload = {\r\n        email: this.email,\r\n        password: this.password\r\n      };\r\n\r\n      this.LOGIN_USER(payload)\r\n        .then(response => {\r\n          const decodedToken = jwt_decode(response.token);\r\n         // console.log(decodedToken);\r\n          // Access the decoded token properties\r\n          const isAdmin = decodedToken.isAdmin;\r\n\r\n          Swal.fire(\"login successful\");\r\n\r\n          // Redirect based on user role\r\n          //console.log(\"isAdmin:\", isAdmin);\r\n          this.$router.push('/')\r\n\r\n\r\n        })\r\n        .catch(err => {\r\n          const message = err.message;\r\n\r\n          Swal.fire(\"Oh oo!\", `${message}`, \"error\");\r\n        });\r\n    }\r\n  }\r\n};\r\n</script>\r\n<style scoped>\r\n</style>\r\n"],"mappings":";;oBAEMA,UAOA,C;;uBAPLC,mBAAA,CAOW,aAAAC,UAAA"},"metadata":{},"sourceType":"module","externalDependencies":[]}