{"ast":null,"code":"import jwt_decode from \"jwt-decode\";\nexport default function isAdmin(to, from, next) {\n  const token = localStorage.getItem(\"token\");\n  if (token) {\n    try {\n      const decodedToken = jwt_decode(token);\n      if (decodedToken.isAdmin) {\n        next(); // Allow access to the route\n      } else {\n        next(\"/\"); // Redirect to home if not an admin\n      }\n    } catch (error) {\n      console.error(\"Error decoding token:\", error);\n      next(\"/\"); // Redirect to home on error\n    }\n  } else {\n    next(\"/\"); // Redirect to home if no token\n  }\n}","map":{"version":3,"names":["jwt_decode","isAdmin","to","from","next","token","localStorage","getItem","decodedToken","error","console"],"sources":["C:/Users/ajib/OneDrive/Desktop/event-ticket/vue3-restaurant-dashboard/src/helpers/isAdmin.js"],"sourcesContent":["import jwt_decode from \"jwt-decode\";\r\n\r\nexport default function isAdmin(to, from, next) {\r\n  const token = localStorage.getItem(\"token\");\r\n  if (token) {\r\n    try {\r\n      const decodedToken = jwt_decode(token);\r\n      if (decodedToken.isAdmin) {\r\n        next(); // Allow access to the route\r\n      } else {\r\n        next(\"/\"); // Redirect to home if not an admin\r\n      }\r\n    } catch (error) {\r\n      console.error(\"Error decoding token:\", error);\r\n      next(\"/\"); // Redirect to home on error\r\n    }\r\n  } else {\r\n    next(\"/\"); // Redirect to home if no token\r\n  }\r\n}\r\n"],"mappings":"AAAA,OAAOA,UAAU,MAAM,YAAY;AAEnC,eAAe,SAASC,OAAOA,CAACC,EAAE,EAAEC,IAAI,EAAEC,IAAI,EAAE;EAC9C,MAAMC,KAAK,GAAGC,YAAY,CAACC,OAAO,CAAC,OAAO,CAAC;EAC3C,IAAIF,KAAK,EAAE;IACT,IAAI;MACF,MAAMG,YAAY,GAAGR,UAAU,CAACK,KAAK,CAAC;MACtC,IAAIG,YAAY,CAACP,OAAO,EAAE;QACxBG,IAAI,CAAC,CAAC,CAAC,CAAC;MACV,CAAC,MAAM;QACLA,IAAI,CAAC,GAAG,CAAC,CAAC,CAAC;MACb;IACF,CAAC,CAAC,OAAOK,KAAK,EAAE;MACdC,OAAO,CAACD,KAAK,CAAC,uBAAuB,EAAEA,KAAK,CAAC;MAC7CL,IAAI,CAAC,GAAG,CAAC,CAAC,CAAC;IACb;EACF,CAAC,MAAM;IACLA,IAAI,CAAC,GAAG,CAAC,CAAC,CAAC;EACb;AACF"},"metadata":{},"sourceType":"module","externalDependencies":[]}