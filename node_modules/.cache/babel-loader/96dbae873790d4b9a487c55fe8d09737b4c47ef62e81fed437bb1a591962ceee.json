{"ast":null,"code":"import { ref } from 'vue';\nimport axios from 'axios';\nimport getToken from \"@/helpers/getToken.js\";\nexport default {\n  __name: 'rex',\n  setup(__props, {\n    expose: __expose\n  }) {\n    __expose();\n    const product = ref({\n      title: '',\n      brand: '',\n      description: '',\n      availability: '',\n      price: null,\n      stockQuantity: null\n    });\n    const submitProduct = async () => {\n      const formData = new FormData();\n\n      // Append all form fields\n      for (const key in product.value) {\n        formData.append(key, product.value[key]);\n      }\n      try {\n        const response = await axios.post('http://localhost:4000/api/products', formData, {\n          headers: {\n            'Content-Type': 'multipart/form-data',\n            Authorization: `Bearer ${getToken()}`\n          }\n        });\n        console.log(response.data);\n        uploadMsg.value = response.data.msg;\n      } catch (error) {\n        console.error(error);\n        uploadMsg.value = 'Upload failed.';\n      }\n    };\n    const __returned__ = {\n      product,\n      submitProduct,\n      ref,\n      get axios() {\n        return axios;\n      },\n      get getToken() {\n        return getToken;\n      }\n    };\n    Object.defineProperty(__returned__, '__isScriptSetup', {\n      enumerable: false,\n      value: true\n    });\n    return __returned__;\n  }\n};","map":{"version":3,"names":["ref","axios","getToken","product","title","brand","description","availability","price","stockQuantity","submitProduct","formData","FormData","key","value","append","response","post","headers","Authorization","console","log","data","uploadMsg","msg","error"],"sources":["C:/Users/ajib/OneDrive/Desktop/event-ticket/event-ticket-frontend/src/components/rex.vue"],"sourcesContent":["<template>\r\n  <div class=\"container mt-5\">\r\n    <form @submit.prevent=\"submitProduct\" enctype=\"multipart/form-data\">\r\n      <div class=\"mb-3\">\r\n        <label class=\"form-label\">Title</label>\r\n        <input v-model=\"product.title\" type=\"text\" class=\"form-control\" required />\r\n      </div>\r\n\r\n      <div class=\"mb-3\">\r\n        <label class=\"form-label\">Brand</label>\r\n        <input v-model=\"product.brand\" type=\"text\" class=\"form-control\" required />\r\n      </div>\r\n\r\n      <div class=\"mb-3\">\r\n        <label class=\"form-label\">Description</label>\r\n        <textarea v-model=\"product.description\" class=\"form-control\" required></textarea>\r\n      </div>\r\n\r\n      <div class=\"mb-3\">\r\n        <label class=\"form-label\">Availability</label>\r\n        <input v-model=\"product.availability\" type=\"text\" class=\"form-control\" />\r\n      </div>\r\n\r\n      <div class=\"mb-3\">\r\n        <label class=\"form-label\">Price</label>\r\n        <input v-model.number=\"product.price\" type=\"number\" class=\"form-control\" />\r\n      </div>\r\n\r\n      <div class=\"mb-3\">\r\n        <label class=\"form-label\">Stock Quantity</label>\r\n        <input v-model.number=\"product.stockQuantity\" type=\"number\" class=\"form-control\" />\r\n      </div>\r\n\r\n     \r\n\r\n      <button type=\"submit\" class=\"btn btn-primary\">Submit Product</button>\r\n    </form>\r\n\r\n    <div v-if=\"uploadMsg\" class=\"alert alert-info mt-3\">\r\n      {{ uploadMsg }}\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script setup>\r\nimport { ref } from 'vue'\r\nimport axios from 'axios'\r\nimport getToken from \"@/helpers/getToken.js\";\r\n\r\n\r\n\r\nconst product = ref({\r\n  title: '',\r\n  brand: '',\r\n  description: '',\r\n  availability: '',\r\n  price: null,\r\n  stockQuantity: null\r\n})\r\n\r\n\r\n\r\nconst submitProduct = async () => {\r\n  const formData = new FormData()\r\n\r\n  // Append all form fields\r\n  for (const key in product.value) {\r\n    formData.append(key, product.value[key])\r\n  }\r\n\r\n \r\n\r\n  try {\r\n    const response = await axios.post('http://localhost:4000/api/products', formData, {\r\n      headers: {\r\n        'Content-Type': 'multipart/form-data',\r\n          Authorization: `Bearer ${getToken()}`\r\n      }\r\n    })\r\nconsole.log(response.data)\r\n    uploadMsg.value = response.data.msg\r\n  } catch (error) {\r\n    console.error(error)\r\n    uploadMsg.value = 'Upload failed.'\r\n  }\r\n}\r\n</script>\r\n"],"mappings":"AA6CA,SAASA,GAAG,QAAQ,KAAK;AACzB,OAAOC,KAAK,MAAM,OAAO;AACzB,OAAOC,QAAQ,MAAM,uBAAuB;;;;;;;IAI5C,MAAMC,OAAO,GAAGH,GAAG,CAAC;MAClBI,KAAK,EAAE,EAAE;MACTC,KAAK,EAAE,EAAE;MACTC,WAAW,EAAE,EAAE;MACfC,YAAY,EAAE,EAAE;MAChBC,KAAK,EAAE,IAAI;MACXC,aAAa,EAAE;IACjB,CAAC,CAAC;IAIF,MAAMC,aAAa,GAAG,MAAAA,CAAA,KAAY;MAChC,MAAMC,QAAQ,GAAG,IAAIC,QAAQ,CAAC,CAAC;;MAE/B;MACA,KAAK,MAAMC,GAAG,IAAIV,OAAO,CAACW,KAAK,EAAE;QAC/BH,QAAQ,CAACI,MAAM,CAACF,GAAG,EAAEV,OAAO,CAACW,KAAK,CAACD,GAAG,CAAC,CAAC;MAC1C;MAIA,IAAI;QACF,MAAMG,QAAQ,GAAG,MAAMf,KAAK,CAACgB,IAAI,CAAC,oCAAoC,EAAEN,QAAQ,EAAE;UAChFO,OAAO,EAAE;YACP,cAAc,EAAE,qBAAqB;YACnCC,aAAa,EAAG,UAASjB,QAAQ,CAAC,CAAE;UACxC;QACF,CAAC,CAAC;QACNkB,OAAO,CAACC,GAAG,CAACL,QAAQ,CAACM,IAAI,CAAC;QACtBC,SAAS,CAACT,KAAK,GAAGE,QAAQ,CAACM,IAAI,CAACE,GAAG;MACrC,CAAC,CAAC,OAAOC,KAAK,EAAE;QACdL,OAAO,CAACK,KAAK,CAACA,KAAK,CAAC;QACpBF,SAAS,CAACT,KAAK,GAAG,gBAAgB;MACpC;IACF,CAAC"},"metadata":{},"sourceType":"module","externalDependencies":[]}