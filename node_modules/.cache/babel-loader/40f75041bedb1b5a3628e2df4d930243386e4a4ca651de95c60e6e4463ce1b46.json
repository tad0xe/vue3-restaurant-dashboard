{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\nimport { mapGetters } from \"vuex\";\nexport default {\n  name: 'PaystackCheckout',\n  data() {\n    return {\n      email: '',\n      amount: 0,\n      publicKey: 'pk_test_39500fe5625254b064b82558ae701fce46e5f2d1' // Replace with your real key\n    };\n  },\n\n  computed: {\n    ...mapGetters(['getContactInfo']),\n    email: {\n      get() {\n        return this.getContactInfo?.email || '';\n      }\n    }\n  },\n  methods: {\n    payWithPaystack() {\n      const handler = window.PaystackPop.setup({\n        key: this.publicKey,\n        email: this.email,\n        amount: this.amount * 100,\n        // Paystack uses Kobo\n        currency: 'NGN',\n        ref: this.generateRef(),\n        callback: response => {\n          alert('Payment complete! Reference: ' + response.reference);\n          // Optional: redirect or verify payment with your backend\n          this.$router.push({\n            name: 'PaymentSuccess'\n          }); // optional\n        },\n\n        onClose: () => {\n          alert('Transaction was not completed, window closed.');\n        }\n      });\n      handler.openIframe();\n    },\n    generateRef() {\n      return 'REF_' + Math.floor(Math.random() * 1000000000 + 1);\n    }\n  }\n};","map":{"version":3,"names":["mapGetters","name","data","email","amount","publicKey","computed","get","getContactInfo","methods","payWithPaystack","handler","window","PaystackPop","setup","key","currency","ref","generateRef","callback","response","alert","reference","$router","push","onClose","openIframe","Math","floor","random"],"sources":["C:\\Users\\ajib\\OneDrive\\Desktop\\event-ticket\\event-ticket-frontend\\src\\components\\rex.vue"],"sourcesContent":["<template>\r\n  <div class=\"container\">\r\n    <h2>Pay with Paystack</h2>\r\n    <form @submit.prevent=\"payWithPaystack\">\r\n   \r\n      <div class=\"mb-3\">\r\n        <label>Email</label>\r\n        <input v-model=\"email\" type=\"email\" class=\"form-control\" required />\r\n      </div>\r\n\r\n      <div class=\"mb-3\">\r\n        <label>Amount (â‚¦)</label>\r\n        <input v-model.number=\"amount\" type=\"number\" class=\"form-control\" required />\r\n      </div>\r\n\r\n      <button type=\"submit\" class=\"btn btn-success\">Pay Now</button>\r\n    </form>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { mapGetters } from \"vuex\";\r\nexport default {\r\n  name: 'PaystackCheckout',\r\n  data() {\r\n    return {\r\n      email: '',\r\n      amount: 0,\r\n      publicKey: 'pk_test_39500fe5625254b064b82558ae701fce46e5f2d1', // Replace with your real key\r\n    };\r\n  },\r\n  computed: {\r\n    ...mapGetters(['getContactInfo']),\r\n     email: {\r\n      get() {\r\n        return this.getContactInfo?.email || '';\r\n      },}\r\n  },\r\n  methods: {\r\n    payWithPaystack() {\r\n      const handler = window.PaystackPop.setup({\r\n        key: this.publicKey,\r\n        email: this.email,\r\n        amount: this.amount * 100, // Paystack uses Kobo\r\n        currency: 'NGN',\r\n        ref: this.generateRef(),\r\n        callback: (response) => {\r\n          alert('Payment complete! Reference: ' + response.reference);\r\n          // Optional: redirect or verify payment with your backend\r\n          this.$router.push({ name: 'PaymentSuccess' }); // optional\r\n        },\r\n        onClose: () => {\r\n          alert('Transaction was not completed, window closed.');\r\n        },\r\n      });\r\n\r\n      handler.openIframe();\r\n    },\r\n\r\n    generateRef() {\r\n      return 'REF_' + Math.floor(Math.random() * 1000000000 + 1);\r\n    },\r\n  },\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n.container {\r\n  max-width: 500px;\r\n  margin: 40px auto;\r\n}\r\n</style>\r\n"],"mappings":";AAqBA,SAASA,UAAS,QAAS,MAAM;AACjC,eAAe;EACbC,IAAI,EAAE,kBAAkB;EACxBC,IAAIA,CAAA,EAAG;IACL,OAAO;MACLC,KAAK,EAAE,EAAE;MACTC,MAAM,EAAE,CAAC;MACTC,SAAS,EAAE,kDAAkD,CAAE;IACjE,CAAC;EACH,CAAC;;EACDC,QAAQ,EAAE;IACR,GAAGN,UAAU,CAAC,CAAC,gBAAgB,CAAC,CAAC;IAChCG,KAAK,EAAE;MACNI,GAAGA,CAAA,EAAG;QACJ,OAAO,IAAI,CAACC,cAAc,EAAEL,KAAI,IAAK,EAAE;MACzC;IAAE;EACN,CAAC;EACDM,OAAO,EAAE;IACPC,eAAeA,CAAA,EAAG;MAChB,MAAMC,OAAM,GAAIC,MAAM,CAACC,WAAW,CAACC,KAAK,CAAC;QACvCC,GAAG,EAAE,IAAI,CAACV,SAAS;QACnBF,KAAK,EAAE,IAAI,CAACA,KAAK;QACjBC,MAAM,EAAE,IAAI,CAACA,MAAK,GAAI,GAAG;QAAE;QAC3BY,QAAQ,EAAE,KAAK;QACfC,GAAG,EAAE,IAAI,CAACC,WAAW,CAAC,CAAC;QACvBC,QAAQ,EAAGC,QAAQ,IAAK;UACtBC,KAAK,CAAC,+BAA8B,GAAID,QAAQ,CAACE,SAAS,CAAC;UAC3D;UACA,IAAI,CAACC,OAAO,CAACC,IAAI,CAAC;YAAEvB,IAAI,EAAE;UAAiB,CAAC,CAAC,EAAE;QACjD,CAAC;;QACDwB,OAAO,EAAEA,CAAA,KAAM;UACbJ,KAAK,CAAC,+CAA+C,CAAC;QACxD;MACF,CAAC,CAAC;MAEFV,OAAO,CAACe,UAAU,CAAC,CAAC;IACtB,CAAC;IAEDR,WAAWA,CAAA,EAAG;MACZ,OAAO,MAAK,GAAIS,IAAI,CAACC,KAAK,CAACD,IAAI,CAACE,MAAM,CAAC,IAAI,UAAS,GAAI,CAAC,CAAC;IAC5D;EACF;AACF,CAAC"},"metadata":{},"sourceType":"module","externalDependencies":[]}