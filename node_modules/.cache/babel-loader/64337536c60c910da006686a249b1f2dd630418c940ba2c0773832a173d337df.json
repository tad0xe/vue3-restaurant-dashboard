{"ast":null,"code":"import { mapGetters, mapActions } from \"vuex\";\nimport moment from \"moment\";\nexport default {\n  computed: {\n    ...mapGetters([\"getReviews\"]),\n    formattedReviews() {\n      return this.getReviews.map(review => ({\n        ...review,\n        formattedTime: this.formatTime(review.time)\n      }));\n    },\n    sortedReviews() {\n      return this.formattedReviews.slice(0, this.displayedCount).sort((a, b) => {\n        if (this.sortOrder === \"newest\") {\n          return new Date(b.time) - new Date(a.time);\n        } else {\n          return new Date(a.time) - new Date(b.time);\n        }\n      });\n    },\n    showMoreButton() {\n      return this.displayedCount < this.getReviews.length;\n    }\n  },\n  data() {\n    return {\n      displayedCount: 2,\n      // Initially display 2 reviews\n      sortOrder: \"newest\" // Default sorting order is \"newest\"\n    };\n  },\n\n  mounted() {\n    this.fetchReviews();\n  },\n  methods: {\n    ...mapActions([\"fetchReviews\"]),\n    showMoreReviews() {\n      this.displayedCount += 2; // Increase the displayed count by 2\n    },\n\n    sortByNewest() {\n      this.sortOrder = \"newest\";\n    },\n    sortByOldest() {\n      this.sortOrder = \"oldest\";\n    },\n    formatTime(time) {\n      return moment(time).format(\"YYYY-MM-DD\");\n    }\n  }\n};","map":{"version":3,"names":["mapGetters","mapActions","moment","computed","formattedReviews","getReviews","map","review","formattedTime","formatTime","time","sortedReviews","slice","displayedCount","sort","a","b","sortOrder","Date","showMoreButton","length","data","mounted","fetchReviews","methods","showMoreReviews","sortByNewest","sortByOldest","format"],"sources":["C:\\Users\\ajib\\OneDrive\\Desktop\\event-ticket\\event-ticket-frontend\\src\\components\\dashboard\\dashboar.vue"],"sourcesContent":["<template>\r\n  <div class=\"content-boy\">\r\n    <!-- row -->\r\n    <div class=\"container-fuid\">\r\n\r\n      <div class=\"row\">\r\n\r\n        <div class=\"col-lg-8 col-xl-9\">\r\n          <div class=\"card\">\r\n            <div class=\"card-header border-0 pb-0 d-sm-flex d-block\">\r\n              <div>\r\n                <h4 class=\"card-title mb-1 fs-28 font-w600\">Recent Review</h4>\r\n                <p class=\"mb-0\">Here is customer review about your restaurant </p>\r\n              </div>\r\n              <div class=\"dropdown\">\r\n                <button\r\n                  type=\"button\"\r\n                  class=\"btn btn-primary dropdown-toggle light fs-14\"\r\n                  data-toggle=\"dropdown\"\r\n                  aria-expanded=\"false\"\r\n                >\r\n                  Latest\r\n                </button>\r\n                <div class=\"dropdown-menu\">\r\n                  <a\r\n                    class=\"dropdown-item\"\r\n                    @click=\"sortByNewest\"\r\n                  >Latest</a>\r\n                  <a\r\n                    class=\"dropdown-item\"\r\n                    @click=\"sortByOldest\"\r\n                  >OLD</a>\r\n                </div>\r\n              </div>\r\n            </div>\r\n            <div class=\"card-body p-0\">\r\n              <div\r\n                class=\"media review-box\"\r\n                v-for=\"review in sortedReviews\"\r\n                :key=\"review.id\"\r\n              >\r\n                <img\r\n                  class=\"mr-3 img-fluid btn-rounded\"\r\n                  width=\"55\"\r\n                  src=\"frontend/images/avatar/1.jpg\"\r\n                  alt=\"DexignZone\"\r\n                >\r\n                <div class=\"media-body\">\r\n                  <h4 class=\"mt-0 mb-0 text-black\">{{review.user.name}}</h4>\r\n                  <ul class=\"review-meta mb-3 d-block d-sm-flex align-items-center\">\r\n                    <li class=\"\"><small>{{ review.formattedTime }}</small></li>\r\n                    <li class=\"ml-auto\"><span class=\"badge badge-rounded badge-warning light font-w500\">\r\n                        <div v-if=\"review.rating === 5\">Excellent</div>\r\n                        <div v-if=\"review.rating === 4\">Very Good</div>\r\n                        <div v-if=\"review.rating === 3\">Good</div>\r\n                        <div v-if=\"review.rating === 2\">Fair</div>\r\n                        <div v-if=\"review.rating === 1\">Poor</div>\r\n                      </span></li>\r\n                  </ul>\r\n                  <p class=\"mb-3 text-secondary\">{{review.body}}</p>\r\n                </div>\r\n                <div class=\"media-footer d-flex align-self-center\">\r\n                  <div\r\n                    v-for=\"star in 5\"\r\n                    class=\"\"\r\n                  >\r\n                    <i\r\n                      class=\"fa fa-star\"\r\n                      :class=\"{ 'text-orange': star <= review.rating }\"\r\n                      :key=\"star\"\r\n                    ></i>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n            <div class=\"card-footer border-0 text-center py-4\">\r\n              <a\r\n                @click=\"showMoreReviews\"\r\n                v-if=\"showMoreButton\"\r\n                class=\"btn btn-primary\"\r\n              >Read More <i class=\"fa fa-angle-double-down scale2 ml-2\"></i></a>\r\n            </div>\r\n          </div>\r\n        </div>\r\n        <div class=\"col-lg-4 col-xl-3\">\r\n\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n\r\n<script>\r\nimport { mapGetters, mapActions } from \"vuex\";\r\nimport moment from \"moment\";\r\n\r\nexport default {\r\n  computed: {\r\n    ...mapGetters([\"getReviews\"]),\r\n    formattedReviews() {\r\n      return this.getReviews.map(review => ({\r\n        ...review,\r\n        formattedTime: this.formatTime(review.time)\r\n      }));\r\n    },\r\n    sortedReviews() {\r\n      return this.formattedReviews\r\n        .slice(0, this.displayedCount)\r\n        .sort((a, b) => {\r\n          if (this.sortOrder === \"newest\") {\r\n            return new Date(b.time) - new Date(a.time);\r\n          } else {\r\n            return new Date(a.time) - new Date(b.time);\r\n          }\r\n        });\r\n    },\r\n    showMoreButton() {\r\n      return this.displayedCount < this.getReviews.length;\r\n    }\r\n  },\r\n  data() {\r\n    return {\r\n      displayedCount: 2, // Initially display 2 reviews\r\n      sortOrder: \"newest\" // Default sorting order is \"newest\"\r\n    };\r\n  },\r\n  mounted() {\r\n    this.fetchReviews();\r\n  },\r\n  methods: {\r\n    ...mapActions([\"fetchReviews\"]),\r\n    showMoreReviews() {\r\n      this.displayedCount += 2; // Increase the displayed count by 2\r\n    },\r\n    sortByNewest() {\r\n      this.sortOrder = \"newest\";\r\n    },\r\n    sortByOldest() {\r\n      this.sortOrder = \"oldest\";\r\n    },\r\n    formatTime(time) {\r\n      return moment(time).format(\"YYYY-MM-DD\");\r\n    }\r\n  }\r\n};\r\n</script>\r\n"],"mappings":"AA8FA,SAASA,UAAU,EAAEC,UAAS,QAAS,MAAM;AAC7C,OAAOC,MAAK,MAAO,QAAQ;AAE3B,eAAe;EACbC,QAAQ,EAAE;IACR,GAAGH,UAAU,CAAC,CAAC,YAAY,CAAC,CAAC;IAC7BI,gBAAgBA,CAAA,EAAG;MACjB,OAAO,IAAI,CAACC,UAAU,CAACC,GAAG,CAACC,MAAK,KAAM;QACpC,GAAGA,MAAM;QACTC,aAAa,EAAE,IAAI,CAACC,UAAU,CAACF,MAAM,CAACG,IAAI;MAC5C,CAAC,CAAC,CAAC;IACL,CAAC;IACDC,aAAaA,CAAA,EAAG;MACd,OAAO,IAAI,CAACP,gBAAe,CACxBQ,KAAK,CAAC,CAAC,EAAE,IAAI,CAACC,cAAc,EAC5BC,IAAI,CAAC,CAACC,CAAC,EAAEC,CAAC,KAAK;QACd,IAAI,IAAI,CAACC,SAAQ,KAAM,QAAQ,EAAE;UAC/B,OAAO,IAAIC,IAAI,CAACF,CAAC,CAACN,IAAI,IAAI,IAAIQ,IAAI,CAACH,CAAC,CAACL,IAAI,CAAC;QAC5C,OAAO;UACL,OAAO,IAAIQ,IAAI,CAACH,CAAC,CAACL,IAAI,IAAI,IAAIQ,IAAI,CAACF,CAAC,CAACN,IAAI,CAAC;QAC5C;MACF,CAAC,CAAC;IACN,CAAC;IACDS,cAAcA,CAAA,EAAG;MACf,OAAO,IAAI,CAACN,cAAa,GAAI,IAAI,CAACR,UAAU,CAACe,MAAM;IACrD;EACF,CAAC;EACDC,IAAIA,CAAA,EAAG;IACL,OAAO;MACLR,cAAc,EAAE,CAAC;MAAE;MACnBI,SAAS,EAAE,QAAO,CAAE;IACtB,CAAC;EACH,CAAC;;EACDK,OAAOA,CAAA,EAAG;IACR,IAAI,CAACC,YAAY,CAAC,CAAC;EACrB,CAAC;EACDC,OAAO,EAAE;IACP,GAAGvB,UAAU,CAAC,CAAC,cAAc,CAAC,CAAC;IAC/BwB,eAAeA,CAAA,EAAG;MAChB,IAAI,CAACZ,cAAa,IAAK,CAAC,EAAE;IAC5B,CAAC;;IACDa,YAAYA,CAAA,EAAG;MACb,IAAI,CAACT,SAAQ,GAAI,QAAQ;IAC3B,CAAC;IACDU,YAAYA,CAAA,EAAG;MACb,IAAI,CAACV,SAAQ,GAAI,QAAQ;IAC3B,CAAC;IACDR,UAAUA,CAACC,IAAI,EAAE;MACf,OAAOR,MAAM,CAACQ,IAAI,CAAC,CAACkB,MAAM,CAAC,YAAY,CAAC;IAC1C;EACF;AACF,CAAC"},"metadata":{},"sourceType":"module","externalDependencies":[]}