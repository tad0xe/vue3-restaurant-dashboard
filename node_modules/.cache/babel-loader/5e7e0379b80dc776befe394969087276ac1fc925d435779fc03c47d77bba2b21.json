{"ast":null,"code":"import { createElementVNode as _createElementVNode, resolveComponent as _resolveComponent, createVNode as _createVNode, toDisplayString as _toDisplayString, openBlock as _openBlock, createElementBlock as _createElementBlock, createCommentVNode as _createCommentVNode, createTextVNode as _createTextVNode, renderList as _renderList, Fragment as _Fragment, pushScopeId as _pushScopeId, popScopeId as _popScopeId } from \"vue\";\nconst _withScopeId = n => (_pushScopeId(\"data-v-4a557ff0\"), n = n(), _popScopeId(), n);\nconst _hoisted_1 = {\n  class: \"container\"\n};\nconst _hoisted_2 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"h2\", null, \"üéØ Scan Ticket QR Code\", -1 /* HOISTED */));\nconst _hoisted_3 = {\n  key: 0,\n  class: \"error\"\n};\nconst _hoisted_4 = {\n  class: \"decode-result\"\n};\nconst _hoisted_5 = {\n  key: 1,\n  class: \"text-start\",\n  style: {\n    \"border\": \"1px solid #ccc\",\n    \"padding\": \"16px\",\n    \"border-radius\": \"8px\",\n    \"background\": \"#f9f9f9\",\n    \"max-width\": \"600px\"\n  }\n};\nconst _hoisted_6 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"h4\", {\n  style: {\n    \"margin-bottom\": \"16px\"\n  }\n}, \"üéüÔ∏è Ticket Details\", -1 /* HOISTED */));\nconst _hoisted_7 = {\n  style: {\n    \"display\": \"flex\",\n    \"justify-content\": \"space-between\",\n    \"padding\": \"8px 0\",\n    \"border-bottom\": \"1px solid #ddd\"\n  }\n};\nconst _hoisted_8 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"strong\", null, \"Event:\", -1 /* HOISTED */));\nconst _hoisted_9 = {\n  style: {\n    \"display\": \"flex\",\n    \"justify-content\": \"space-between\",\n    \"padding\": \"8px 0\",\n    \"border-bottom\": \"1px solid #ddd\"\n  }\n};\nconst _hoisted_10 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"strong\", null, \"Reference:\", -1 /* HOISTED */));\nconst _hoisted_11 = {\n  style: {\n    \"display\": \"flex\",\n    \"justify-content\": \"space-between\",\n    \"padding\": \"8px 0\",\n    \"border-bottom\": \"1px solid #ddd\"\n  }\n};\nconst _hoisted_12 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"strong\", null, \"Email:\", -1 /* HOISTED */));\nconst _hoisted_13 = {\n  style: {\n    \"display\": \"flex\",\n    \"justify-content\": \"space-between\",\n    \"padding\": \"8px 0\",\n    \"border-bottom\": \"1px solid #ddd\"\n  }\n};\nconst _hoisted_14 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"strong\", null, \"Phone:\", -1 /* HOISTED */));\nconst _hoisted_15 = {\n  style: {\n    \"padding\": \"8px 0\",\n    \"border-bottom\": \"1px solid #ddd\"\n  }\n};\nconst _hoisted_16 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"strong\", null, \"Tickets:\", -1 /* HOISTED */));\nconst _hoisted_17 = {\n  style: {\n    \"margin-top\": \"4px\",\n    \"padding-left\": \"20px\"\n  }\n};\nconst _hoisted_18 = {\n  key: 2\n};\nconst _hoisted_19 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"p\", {\n  class: \"text-danger\"\n}, \"‚ùå Ticket not found.\", -1 /* HOISTED */));\nconst _hoisted_20 = [_hoisted_19];\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  const _component_qrcode_stream = _resolveComponent(\"qrcode-stream\");\n  return _openBlock(), _createElementBlock(\"div\", _hoisted_1, [_hoisted_2, _createVNode(_component_qrcode_stream, {\n    constraints: {\n      facingMode: 'environment'\n    },\n    onDetect: $options.onDetect,\n    onError: $options.onError\n  }, null, 8 /* PROPS */, [\"onDetect\", \"onError\"]), $data.error ? (_openBlock(), _createElementBlock(\"p\", _hoisted_3, _toDisplayString($data.error), 1 /* TEXT */)) : _createCommentVNode(\"v-if\", true), _createElementVNode(\"p\", _hoisted_4, [_createTextVNode(\" Result: \"), _createElementVNode(\"b\", null, _toDisplayString($data.result), 1 /* TEXT */)]), $data.ticket ? (_openBlock(), _createElementBlock(\"div\", _hoisted_5, [_hoisted_6, _createElementVNode(\"div\", _hoisted_7, [_hoisted_8, _createElementVNode(\"span\", null, _toDisplayString($data.ticket.title), 1 /* TEXT */)]), _createElementVNode(\"div\", _hoisted_9, [_hoisted_10, _createElementVNode(\"span\", null, _toDisplayString($data.ticket.reference), 1 /* TEXT */)]), _createElementVNode(\"div\", _hoisted_11, [_hoisted_12, _createElementVNode(\"span\", null, _toDisplayString($data.ticket.contact?.email || 'N/A'), 1 /* TEXT */)]), _createElementVNode(\"div\", _hoisted_13, [_hoisted_14, _createElementVNode(\"span\", null, _toDisplayString($data.ticket.contact?.phone || 'N/A'), 1 /* TEXT */)]), _createElementVNode(\"div\", _hoisted_15, [_hoisted_16, _createElementVNode(\"ul\", _hoisted_17, [(_openBlock(true), _createElementBlock(_Fragment, null, _renderList($data.ticket.tickets, t => {\n    return _openBlock(), _createElementBlock(\"li\", {\n      key: t._id\n    }, _toDisplayString(t.name) + \" x \" + _toDisplayString(t.quantity), 1 /* TEXT */);\n  }), 128 /* KEYED_FRAGMENT */))])])])) : _createCommentVNode(\"v-if\", true), $data.notFound ? (_openBlock(), _createElementBlock(\"div\", _hoisted_18, _hoisted_20)) : _createCommentVNode(\"v-if\", true)]);\n}","map":{"version":3,"names":["class","_createElementVNode","style","_hoisted_19","_createElementBlock","_hoisted_1","_hoisted_2","_createVNode","_component_qrcode_stream","constraints","facingMode","onDetect","$options","onError","$data","error","_hoisted_3","_toDisplayString","_hoisted_4","result","ticket","_hoisted_5","_hoisted_6","_hoisted_7","_hoisted_8","title","_hoisted_9","_hoisted_10","reference","_hoisted_11","_hoisted_12","contact","email","_hoisted_13","_hoisted_14","phone","_hoisted_15","_hoisted_16","_hoisted_17","_Fragment","_renderList","tickets","t","key","_id","name","quantity","notFound","_hoisted_18","_hoisted_20"],"sources":["C:\\Users\\ajib\\OneDrive\\Desktop\\event-ticket\\event-ticket-frontend\\src\\components\\app\\admin\\scanner.vue"],"sourcesContent":["<template>\r\n  <div class=\"container\">\r\n    <h2>üéØ Scan Ticket QR Code</h2>\r\n\r\n  \r\n    <qrcode-stream\r\n      :constraints=\"{ facingMode: 'environment' }\"\r\n      @detect=\"onDetect\"\r\n      @error=\"onError\"\r\n    />\r\n\r\n    <p v-if=\"error\" class=\"error\">{{ error }}</p>\r\n      <p class=\"decode-result\">\r\n      Result: <b>{{ result }}</b>\r\n    </p>\r\n\r\n<div v-if=\"ticket\" class=\"text-start\" style=\"border: 1px solid #ccc; padding: 16px; border-radius: 8px; background: #f9f9f9; max-width: 600px;\">\r\n  <h4 style=\"margin-bottom: 16px;\">üéüÔ∏è Ticket Details</h4>\r\n\r\n  <div style=\"display: flex; justify-content: space-between; padding: 8px 0; border-bottom: 1px solid #ddd;\">\r\n    <strong>Event:</strong>\r\n    <span>{{ ticket.title }}</span>\r\n  </div>\r\n\r\n  <div style=\"display: flex; justify-content: space-between; padding: 8px 0; border-bottom: 1px solid #ddd;\">\r\n    <strong>Reference:</strong>\r\n    <span>{{ ticket.reference }}</span>\r\n  </div>\r\n\r\n  <div style=\"display: flex; justify-content: space-between; padding: 8px 0; border-bottom: 1px solid #ddd;\">\r\n    <strong>Email:</strong>\r\n    <span>{{ ticket.contact?.email || 'N/A' }}</span>\r\n  </div>\r\n\r\n  <div style=\"display: flex; justify-content: space-between; padding: 8px 0; border-bottom: 1px solid #ddd;\">\r\n    <strong>Phone:</strong>\r\n    <span>{{ ticket.contact?.phone || 'N/A' }}</span>\r\n  </div>\r\n\r\n  <div style=\"padding: 8px 0; border-bottom: 1px solid #ddd;\">\r\n    <strong>Tickets:</strong>\r\n    <ul style=\"margin-top: 4px; padding-left: 20px;\">\r\n      <li v-for=\"t in ticket.tickets\" :key=\"t._id\">\r\n        {{ t.name }} x {{ t.quantity }}\r\n      </li>\r\n    </ul>\r\n  </div>\r\n</div>\r\n\r\n\r\n    <div v-if=\"notFound\">\r\n      <p class=\"text-danger\">‚ùå Ticket not found.</p>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { QrcodeStream } from 'vue-qrcode-reader'\r\nimport axios from 'axios'\r\n\r\nexport default {\r\n  name: 'QRScanner',\r\n  components: {\r\n    QrcodeStream\r\n  },\r\n  data() {\r\n    return {\r\n      result: '',\r\n      ticket: null,\r\n      error: '',\r\n      notFound: false\r\n    }\r\n  },\r\n  methods: {\r\n    async onDetect(detectedCodes) {\r\n      const reference = detectedCodes[0]?.rawValue\r\n      this.result = reference\r\n      this.ticket = null\r\n      this.notFound = false\r\n\r\n      try {\r\n        const res = await axios.get(`https://event-ticket-qa70.onrender.com/api/order/${reference}`)\r\n        this.ticket = res.data.order\r\n      } catch (err) {\r\n        if (err.response && err.response.status === 404) {\r\n          this.notFound = true\r\n        } else {\r\n          this.error = 'Server error. Please try again.'\r\n        }\r\n        console.error(err)\r\n      }\r\n    },\r\n    onError(err) {\r\n      console.error(err)\r\n      this.error = 'Camera access or scanning failed.'\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n.container {\r\n  max-width: 600px;\r\n  margin: 2rem auto;\r\n  text-align: center;\r\n}\r\n.decode-result {\r\n  margin-top: 1rem;\r\n  font-size: 1.2rem;\r\n}\r\n.error {\r\n  color: red;\r\n}\r\n</style>\r\n"],"mappings":";;;EACOA,KAAK,EAAC;AAAW;gEACpBC,mBAAA,CAA+B,YAA3B,wBAAsB;;;EASVD,KAAK,EAAC;;;EACjBA,KAAK,EAAC;AAAe;;;EAIXA,KAAK,EAAC,YAAY;EAACE,KAAyG,EAAzG;IAAA;IAAA;IAAA;IAAA;IAAA;EAAA;;gEACpCD,mBAAA,CAAwD;EAApDC,KAA4B,EAA5B;IAAA;EAAA;AAA4B,GAAC,oBAAkB;;EAE9CA,KAAqG,EAArG;IAAA;IAAA;IAAA;IAAA;EAAA;AAAqG;gEACxGD,mBAAA,CAAuB,gBAAf,QAAM;;EAIXC,KAAqG,EAArG;IAAA;IAAA;IAAA;IAAA;EAAA;AAAqG;iEACxGD,mBAAA,CAA2B,gBAAnB,YAAU;;EAIfC,KAAqG,EAArG;IAAA;IAAA;IAAA;IAAA;EAAA;AAAqG;iEACxGD,mBAAA,CAAuB,gBAAf,QAAM;;EAIXC,KAAqG,EAArG;IAAA;IAAA;IAAA;IAAA;EAAA;AAAqG;iEACxGD,mBAAA,CAAuB,gBAAf,QAAM;;EAIXC,KAAsD,EAAtD;IAAA;IAAA;EAAA;AAAsD;iEACzDD,mBAAA,CAAyB,gBAAjB,UAAQ;;EACZC,KAA4C,EAA5C;IAAA;IAAA;EAAA;AAA4C;;;;iEAU9CD,mBAAA,CAA8C;EAA3CD,KAAK,EAAC;AAAa,GAAC,qBAAmB;qBAA1CG,WAA8C,C;;;uBAlDlDC,mBAAA,CAoDM,OApDNC,UAoDM,GAnDJC,UAA+B,EAG/BC,YAAA,CAIEC,wBAAA;IAHCC,WAAW,EAAE;MAAAC,UAAA;IAAA,CAA6B;IAC1CC,QAAM,EAAEC,QAAA,CAAAD,QAAQ;IAChBE,OAAK,EAAED,QAAA,CAAAC;oDAGDC,KAAA,CAAAC,KAAK,I,cAAdX,mBAAA,CAA6C,KAA7CY,UAA6C,EAAAC,gBAAA,CAAZH,KAAA,CAAAC,KAAK,oB,mCACpCd,mBAAA,CAEE,KAFFiB,UAEE,G,iBAFuB,WACjB,GAAAjB,mBAAA,CAAmB,WAAAgB,gBAAA,CAAbH,KAAA,CAAAK,MAAM,iB,GAGfL,KAAA,CAAAM,MAAM,I,cAAjBhB,mBAAA,CA+BM,OA/BNiB,UA+BM,GA9BJC,UAAwD,EAExDrB,mBAAA,CAGM,OAHNsB,UAGM,GAFJC,UAAuB,EACvBvB,mBAAA,CAA+B,cAAAgB,gBAAA,CAAtBH,KAAA,CAAAM,MAAM,CAACK,KAAK,iB,GAGvBxB,mBAAA,CAGM,OAHNyB,UAGM,GAFJC,WAA2B,EAC3B1B,mBAAA,CAAmC,cAAAgB,gBAAA,CAA1BH,KAAA,CAAAM,MAAM,CAACQ,SAAS,iB,GAG3B3B,mBAAA,CAGM,OAHN4B,WAGM,GAFJC,WAAuB,EACvB7B,mBAAA,CAAiD,cAAAgB,gBAAA,CAAxCH,KAAA,CAAAM,MAAM,CAACW,OAAO,EAAEC,KAAK,0B,GAGhC/B,mBAAA,CAGM,OAHNgC,WAGM,GAFJC,WAAuB,EACvBjC,mBAAA,CAAiD,cAAAgB,gBAAA,CAAxCH,KAAA,CAAAM,MAAM,CAACW,OAAO,EAAEI,KAAK,0B,GAGhClC,mBAAA,CAOM,OAPNmC,WAOM,GANJC,WAAyB,EACzBpC,mBAAA,CAIK,MAJLqC,WAIK,I,kBAHHlC,mBAAA,CAEKmC,SAAA,QAAAC,WAAA,CAFW1B,KAAA,CAAAM,MAAM,CAACqB,OAAO,EAAnBC,CAAC;yBAAZtC,mBAAA,CAEK;MAF4BuC,GAAG,EAAED,CAAC,CAACE;wBACnCF,CAAC,CAACG,IAAI,IAAG,KAAG,GAAA5B,gBAAA,CAAGyB,CAAC,CAACI,QAAQ;6EAOrBhC,KAAA,CAAAiC,QAAQ,I,cAAnB3C,mBAAA,CAEM,OAAA4C,WAAA,EAAAC,WAAA,K"},"metadata":{},"sourceType":"module","externalDependencies":[]}