{"ast":null,"code":"import { createElementVNode as _createElementVNode, createCommentVNode as _createCommentVNode, vModelText as _vModelText, withDirectives as _withDirectives, openBlock as _openBlock, createElementBlock as _createElementBlock, withModifiers as _withModifiers, renderList as _renderList, Fragment as _Fragment, toDisplayString as _toDisplayString, createTextVNode as _createTextVNode, pushScopeId as _pushScopeId, popScopeId as _popScopeId } from \"vue\";\nconst _withScopeId = n => (_pushScopeId(\"data-v-f74ef508\"), n = n(), _popScopeId(), n);\nconst _hoisted_1 = {\n  class: \"container\"\n};\nconst _hoisted_2 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"h1\", null, \"Category Manager\", -1 /* HOISTED */));\nconst _hoisted_3 = [\"disabled\"];\nconst _hoisted_4 = {\n  key: 0\n};\nconst _hoisted_5 = {\n  key: 1\n};\nconst _hoisted_6 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"hr\", null, null, -1 /* HOISTED */));\nconst _hoisted_7 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"h2\", null, \"All Categories\", -1 /* HOISTED */));\nconst _hoisted_8 = {\n  key: 0\n};\nconst _hoisted_9 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"strong\", null, \"Type:\", -1 /* HOISTED */));\nconst _hoisted_10 = [\"src\"];\nconst _hoisted_11 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"br\", null, null, -1 /* HOISTED */));\nconst _hoisted_12 = [\"onClick\"];\nconst _hoisted_13 = [\"onClick\"];\nconst _hoisted_14 = [\"onClick\"];\nconst _hoisted_15 = {\n  key: 1\n};\nconst _hoisted_16 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"hr\", null, null, -1 /* HOISTED */));\nconst _hoisted_17 = {\n  key: 2\n};\nconst _hoisted_18 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"h2\", null, \"Edit Category\", -1 /* HOISTED */));\nconst _hoisted_19 = [\"disabled\"];\nconst _hoisted_20 = {\n  key: 0\n};\nconst _hoisted_21 = {\n  key: 1\n};\nconst _hoisted_22 = {\n  key: 3\n};\nconst _hoisted_23 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"h2\", null, \"Single Category\", -1 /* HOISTED */));\nconst _hoisted_24 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"strong\", null, \"Type:\", -1 /* HOISTED */));\nconst _hoisted_25 = [\"src\"];\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  return _openBlock(), _createElementBlock(\"div\", _hoisted_1, [_hoisted_2, _createCommentVNode(\" Create Category Form \"), _createElementVNode(\"form\", {\n    onSubmit: _cache[2] || (_cache[2] = _withModifiers((...args) => $options.createCategory && $options.createCategory(...args), [\"prevent\"])),\n    enctype: \"multipart/form-data\"\n  }, [_withDirectives(_createElementVNode(\"input\", {\n    \"onUpdate:modelValue\": _cache[0] || (_cache[0] = $event => $data.newCategory.type = $event),\n    placeholder: \"Category Type\",\n    required: \"\"\n  }, null, 512 /* NEED_PATCH */), [[_vModelText, $data.newCategory.type]]), _createElementVNode(\"input\", {\n    type: \"file\",\n    onChange: _cache[1] || (_cache[1] = (...args) => $options.handleFileChange && $options.handleFileChange(...args))\n  }, null, 32 /* HYDRATE_EVENTS */), _createElementVNode(\"button\", {\n    type: \"submit\",\n    disabled: $data.loadingCreate\n  }, [$data.loadingCreate ? (_openBlock(), _createElementBlock(\"span\", _hoisted_4, \"Creating...\")) : (_openBlock(), _createElementBlock(\"span\", _hoisted_5, \"Create Category\"))], 8 /* PROPS */, _hoisted_3)], 32 /* HYDRATE_EVENTS */), _hoisted_6, _createCommentVNode(\" List All Categories \"), _hoisted_7, $data.categories.length ? (_openBlock(), _createElementBlock(\"div\", _hoisted_8, [(_openBlock(true), _createElementBlock(_Fragment, null, _renderList($data.categories, cat => {\n    return _openBlock(), _createElementBlock(\"div\", {\n      key: cat._id,\n      class: \"category-box\"\n    }, [_createElementVNode(\"p\", null, [_hoisted_9, _createTextVNode(\" \" + _toDisplayString(cat.type), 1 /* TEXT */)]), cat.photo ? (_openBlock(), _createElementBlock(\"img\", {\n      key: 0,\n      src: cat.photo,\n      width: \"150\"\n    }, null, 8 /* PROPS */, _hoisted_10)) : _createCommentVNode(\"v-if\", true), _hoisted_11, _createElementVNode(\"button\", {\n      onClick: $event => $options.getCategory(cat._id)\n    }, \"View\", 8 /* PROPS */, _hoisted_12), _createElementVNode(\"button\", {\n      onClick: $event => $options.editCategory(cat)\n    }, \"Edit\", 8 /* PROPS */, _hoisted_13), _createElementVNode(\"button\", {\n      onClick: $event => $options.deleteCategory(cat._id)\n    }, \"Delete\", 8 /* PROPS */, _hoisted_14)]);\n  }), 128 /* KEYED_FRAGMENT */))])) : (_openBlock(), _createElementBlock(\"div\", _hoisted_15, \"No categories found.\")), _hoisted_16, _createCommentVNode(\" Edit Category \"), $data.editingCategory ? (_openBlock(), _createElementBlock(\"div\", _hoisted_17, [_hoisted_18, _createElementVNode(\"form\", {\n    onSubmit: _cache[6] || (_cache[6] = _withModifiers((...args) => $options.updateCategory && $options.updateCategory(...args), [\"prevent\"])),\n    enctype: \"multipart/form-data\"\n  }, [_withDirectives(_createElementVNode(\"input\", {\n    \"onUpdate:modelValue\": _cache[3] || (_cache[3] = $event => $data.editingCategory.type = $event),\n    placeholder: \"Category Type\"\n  }, null, 512 /* NEED_PATCH */), [[_vModelText, $data.editingCategory.type]]), _createElementVNode(\"input\", {\n    type: \"file\",\n    onChange: _cache[4] || (_cache[4] = (...args) => $options.handleEditFileChange && $options.handleEditFileChange(...args))\n  }, null, 32 /* HYDRATE_EVENTS */), _createElementVNode(\"button\", {\n    type: \"submit\",\n    disabled: $data.loadingUpdate\n  }, [$data.loadingUpdate ? (_openBlock(), _createElementBlock(\"span\", _hoisted_20, \"Updating...\")) : (_openBlock(), _createElementBlock(\"span\", _hoisted_21, \"Update\"))], 8 /* PROPS */, _hoisted_19), _createElementVNode(\"button\", {\n    type: \"button\",\n    onClick: _cache[5] || (_cache[5] = $event => $data.editingCategory = null)\n  }, \"Cancel\")], 32 /* HYDRATE_EVENTS */)])) : _createCommentVNode(\"v-if\", true), _createCommentVNode(\" View Single Category \"), $data.singleCategory ? (_openBlock(), _createElementBlock(\"div\", _hoisted_22, [_hoisted_23, _createElementVNode(\"p\", null, [_hoisted_24, _createTextVNode(\" \" + _toDisplayString($data.singleCategory.type), 1 /* TEXT */)]), _createElementVNode(\"img\", {\n    src: $data.singleCategory.photo,\n    width: \"150\"\n  }, null, 8 /* PROPS */, _hoisted_25)])) : _createCommentVNode(\"v-if\", true)]);\n}","map":{"version":3,"names":["class","_createElementVNode","_createElementBlock","_hoisted_1","_hoisted_2","_createCommentVNode","onSubmit","_cache","_withModifiers","args","$options","createCategory","enctype","$data","newCategory","type","$event","placeholder","required","onChange","handleFileChange","disabled","loadingCreate","_hoisted_4","_hoisted_5","_hoisted_6","_hoisted_7","categories","length","_hoisted_8","_Fragment","_renderList","cat","key","_id","_hoisted_9","_toDisplayString","photo","src","width","_hoisted_11","onClick","getCategory","_hoisted_12","editCategory","_hoisted_13","deleteCategory","_hoisted_14","_hoisted_15","_hoisted_16","editingCategory","_hoisted_17","_hoisted_18","updateCategory","handleEditFileChange","loadingUpdate","_hoisted_20","_hoisted_21","singleCategory","_hoisted_22","_hoisted_23","_hoisted_24"],"sources":["C:\\Users\\ajib\\OneDrive\\Desktop\\event-ticket\\event-ticket-frontend\\src\\components\\app\\admin\\category.vue"],"sourcesContent":["<template>\r\n  <div class=\"container\">\r\n    <h1>Category Manager</h1>\r\n\r\n    <!-- Create Category Form -->\r\n    <form @submit.prevent=\"createCategory\" enctype=\"multipart/form-data\">\r\n      <input v-model=\"newCategory.type\" placeholder=\"Category Type\" required />\r\n      <input type=\"file\" @change=\"handleFileChange\" />\r\n\r\n      <button type=\"submit\" :disabled=\"loadingCreate\">\r\n        <span v-if=\"loadingCreate\">Creating...</span>\r\n        <span v-else>Create Category</span>\r\n      </button>\r\n    </form>\r\n\r\n    <hr />\r\n\r\n    <!-- List All Categories -->\r\n    <h2>All Categories</h2>\r\n    <div v-if=\"categories.length\">\r\n      <div v-for=\"cat in categories\" :key=\"cat._id\" class=\"category-box\">\r\n        <p><strong>Type:</strong> {{ cat.type }}</p>\r\n        <img v-if=\"cat.photo\" :src=\"cat.photo\" width=\"150\" />\r\n        <br />\r\n        <button @click=\"getCategory(cat._id)\">View</button>\r\n        <button @click=\"editCategory(cat)\">Edit</button>\r\n        <button @click=\"deleteCategory(cat._id)\">Delete</button>\r\n      </div>\r\n    </div>\r\n    <div v-else>No categories found.</div>\r\n\r\n    <hr />\r\n\r\n    <!-- Edit Category -->\r\n    <div v-if=\"editingCategory\">\r\n      <h2>Edit Category</h2>\r\n      <form @submit.prevent=\"updateCategory\" enctype=\"multipart/form-data\">\r\n        <input v-model=\"editingCategory.type\" placeholder=\"Category Type\" />\r\n        <input type=\"file\" @change=\"handleEditFileChange\" />\r\n\r\n        <button type=\"submit\" :disabled=\"loadingUpdate\">\r\n          <span v-if=\"loadingUpdate\">Updating...</span>\r\n          <span v-else>Update</span>\r\n        </button>\r\n        <button type=\"button\" @click=\"editingCategory = null\">Cancel</button>\r\n      </form>\r\n    </div>\r\n\r\n    <!-- View Single Category -->\r\n    <div v-if=\"singleCategory\">\r\n      <h2>Single Category</h2>\r\n      <p><strong>Type:</strong> {{ singleCategory.type }}</p>\r\n      <img :src=\"singleCategory.photo\" width=\"150\" />\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport axios from \"axios\";\r\n\r\nexport default {\r\n  data() {\r\n    return {\r\n      baseUrl: \"https://event-ticket-qa70.onrender.com/api\",\r\n      categories: [],\r\n      newCategory: { type: \"\", photo: null },\r\n      editingCategory: null,\r\n      selectedFile: null,\r\n      editingFile: null,\r\n      singleCategory: null,\r\n      loadingCreate: false,\r\n      loadingUpdate: false,\r\n    };\r\n  },\r\n  mounted() {\r\n    this.$notify({\r\n      title: \"Welcome!\",\r\n      text: \"Hello user!\",\r\n      type: \"info\",\r\n    });\r\n    this.fetchCategories();\r\n  },\r\n  methods: {\r\n    async fetchCategories() {\r\n      try {\r\n        const res = await axios.get(`${this.baseUrl}/categories`);\r\n        this.categories = res.data.categories;\r\n      } catch (err) {\r\n        this.$notify({ type: \"error\", title: \"Error\", text: err.message });\r\n      }\r\n    },\r\n    handleFileChange(e) {\r\n      this.selectedFile = e.target.files[0];\r\n    },\r\n    async createCategory() {\r\n      this.loadingCreate = true;\r\n      try {\r\n        const formData = new FormData();\r\n        formData.append(\"type\", this.newCategory.type);\r\n        if (this.selectedFile) {\r\n          formData.append(\"photo\", this.selectedFile);\r\n        }\r\n\r\n        await axios.post(`${this.baseUrl}/categories`, formData, {\r\n          headers: {\r\n            \"Content-Type\": \"multipart/form-data\",\r\n          },\r\n        });\r\n\r\n        this.$notify({\r\n          title: \"Success\",\r\n          text: \"Category created!\",\r\n          type: \"success\",\r\n        });\r\n\r\n        this.newCategory = { type: \"\", photo: null };\r\n        this.selectedFile = null;\r\n        this.fetchCategories();\r\n      } catch (err) {\r\n        this.$notify({ title: \"Error\", text: err.message, type: \"error\" });\r\n      } finally {\r\n        this.loadingCreate = false;\r\n      }\r\n    },\r\n    editCategory(cat) {\r\n      this.editingCategory = { ...cat };\r\n      this.editingFile = null;\r\n    },\r\n    handleEditFileChange(e) {\r\n      this.editingFile = e.target.files[0];\r\n    },\r\n    async updateCategory() {\r\n      this.loadingUpdate = true;\r\n      try {\r\n        const formData = new FormData();\r\n        formData.append(\"type\", this.editingCategory.type);\r\n        if (this.editingFile) {\r\n          formData.append(\"photo\", this.editingFile);\r\n        }\r\n\r\n        await axios.put(\r\n          `${this.baseUrl}/categories/${this.editingCategory._id}`,\r\n          formData,\r\n          {\r\n            headers: {\r\n              \"Content-Type\": \"multipart/form-data\",\r\n            },\r\n          }\r\n        );\r\n\r\n        this.$notify({\r\n          title: \"Success\",\r\n          text: \"Category updated!\",\r\n          type: \"success\",\r\n        });\r\n\r\n        this.editingCategory = null;\r\n        this.editingFile = null;\r\n        this.fetchCategories();\r\n      } catch (err) {\r\n        this.$notify({ title: \"Error\", text: err.message, type: \"error\" });\r\n      } finally {\r\n        this.loadingUpdate = false;\r\n      }\r\n    },\r\n    async deleteCategory(id) {\r\n      try {\r\n        await axios.delete(`${this.baseUrl}/categories/${id}`);\r\n        this.$notify({\r\n          title: \"Deleted\",\r\n          text: \"Category deleted successfully\",\r\n          type: \"success\",\r\n        });\r\n        this.fetchCategories();\r\n      } catch (err) {\r\n        this.$notify({ title: \"Error\", text: err.message, type: \"error\" });\r\n      }\r\n    },\r\n    async getCategory(id) {\r\n      try {\r\n        const res = await axios.get(`${this.baseUrl}/categories/${id}`);\r\n        this.singleCategory = res.data.category;\r\n      } catch (err) {\r\n        this.$notify({ title: \"Error\", text: err.message, type: \"error\" });\r\n      }\r\n    },\r\n  },\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n.container {\r\n  padding: 20px;\r\n  font-family: Arial;\r\n}\r\n.category-box {\r\n  border: 1px solid #ccc;\r\n  padding: 10px;\r\n  margin-bottom: 10px;\r\n}\r\nbutton[disabled] {\r\n  opacity: 0.6;\r\n  cursor: not-allowed;\r\n}\r\n</style>\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}