{"ast":null,"code":"import { createElementVNode as _createElementVNode, vModelText as _vModelText, withDirectives as _withDirectives, resolveComponent as _resolveComponent, withCtx as _withCtx, createVNode as _createVNode, createTextVNode as _createTextVNode, withModifiers as _withModifiers, createCommentVNode as _createCommentVNode, createStaticVNode as _createStaticVNode, openBlock as _openBlock, createElementBlock as _createElementBlock } from \"vue\";\nconst _hoisted_1 = {\n  class: \"justify-content-center h-100 align-items-center pt-5\"\n};\nconst _hoisted_2 = {\n  class: \"\"\n};\nconst _hoisted_3 = {\n  class: \"\"\n};\nconst _hoisted_4 = {\n  class: \"row vertical-center justify-content-center h-100 align-items-center\"\n};\nconst _hoisted_5 = {\n  class: \"col-md-6\"\n};\nconst _hoisted_6 = {\n  class: \"authincation-content\"\n};\nconst _hoisted_7 = {\n  class: \"row no-gutters\"\n};\nconst _hoisted_8 = {\n  class: \"col\"\n};\nconst _hoisted_9 = {\n  class: \"auth-form\"\n};\nconst _hoisted_10 = /*#__PURE__*/_createElementVNode(\"h4\", {\n  class: \"text-center mb-4\"\n}, \"Sign in your account\", -1 /* HOISTED */);\nconst _hoisted_11 = {\n  class: \"form-group\"\n};\nconst _hoisted_12 = /*#__PURE__*/_createElementVNode(\"label\", {\n  class: \"mb-1\"\n}, [/*#__PURE__*/_createElementVNode(\"strong\", null, \"Email\")], -1 /* HOISTED */);\nconst _hoisted_13 = {\n  class: \"form-group\"\n};\nconst _hoisted_14 = /*#__PURE__*/_createElementVNode(\"label\", {\n  class: \"mb-1\"\n}, [/*#__PURE__*/_createElementVNode(\"strong\", null, \"Password\")], -1 /* HOISTED */);\nconst _hoisted_15 = {\n  class: \"form-row d-flex justify-content-between mt-4 mb-2\"\n};\nconst _hoisted_16 = {\n  class: \"form-group text-center\"\n};\nconst _hoisted_17 = /*#__PURE__*/_createElementVNode(\"a\", null, \"Forgot Password?\", -1 /* HOISTED */);\nconst _hoisted_18 = {\n  class: \"text-center\"\n};\nconst _hoisted_19 = /*#__PURE__*/_createElementVNode(\"br\", null, null, -1 /* HOISTED */);\nconst _hoisted_20 = /*#__PURE__*/_createStaticVNode(\"<svg xmlns=\\\"http://www.w3.org/2000/svg\\\" viewBox=\\\"0 0 48 48\\\" width=\\\"24px\\\" height=\\\"24px\\\"><path fill=\\\"#4285F4\\\" d=\\\"M45.7,20.8H24.5v7.9h11.4c-0.4,2.1-1.6,3.9-3.4,5.2v4.3h5.5c3.2-2.9,5.1-7.3,5.1-12.2C43.6,25.7,44.8,23.1,45.7,20.8z\\\"></path><path fill=\\\"#34A853\\\" d=\\\"M24.5,41.1c4.6,0,8.5-1.5,11.4-4h-5.5c-1.5,0.9-3.4,1.5-5.9,1.5c-4.5,0-8.3-3-9.7-7.1l-5.8,4.5C11.7,38.6,17.6,41.1,24.5,41.1z\\\"></path><path fill=\\\"#FBBC04\\\" d=\\\"M14.8,28c-0.1-1.3-0.2-2.7-0.2-4c0-1.3,0.1-2.7,0.2-4l-5.8-4.5c-1.6,3.6-1.6,7.7,0,11.3L14.8,28z\\\"></path><path fill=\\\"#EB4335\\\" d=\\\"M24.5,13.6c2.4,0,4.4,0.8,5.9,2.2l4.4-4.4C33,8.9,28.9,7.2,24.5,7.2c-6.9,0-12.8,2.5-17.4,6.6l5.8,4.5C16.2,16.5,20,13.6,24.5,13.6z\\\"></path></svg>\", 1);\nconst _hoisted_21 = {\n  class: \"new-account mt-3\"\n};\nconst _hoisted_22 = /*#__PURE__*/_createElementVNode(\"a\", {\n  class: \"text-primary\"\n}, \"Sign up\", -1 /* HOISTED */);\n\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  const _component_router_link = _resolveComponent(\"router-link\");\n  return _openBlock(), _createElementBlock(\"body\", _hoisted_1, [_createElementVNode(\"div\", _hoisted_2, [_createElementVNode(\"div\", _hoisted_3, [_createElementVNode(\"div\", _hoisted_4, [_createElementVNode(\"div\", _hoisted_5, [_createElementVNode(\"div\", _hoisted_6, [_createElementVNode(\"div\", _hoisted_7, [_createElementVNode(\"div\", _hoisted_8, [_createElementVNode(\"div\", _hoisted_9, [_hoisted_10, _createElementVNode(\"form\", {\n    onSubmit: _cache[4] || (_cache[4] = _withModifiers(() => {}, [\"prevent\"]))\n  }, [_createElementVNode(\"div\", _hoisted_11, [_hoisted_12, _withDirectives(_createElementVNode(\"input\", {\n    type: \"email\",\n    \"onUpdate:modelValue\": _cache[0] || (_cache[0] = $event => $data.email = $event),\n    class: \"form-control\",\n    placeholder: \"hello@example.com\"\n  }, null, 512 /* NEED_PATCH */), [[_vModelText, $data.email]])]), _createElementVNode(\"div\", _hoisted_13, [_hoisted_14, _withDirectives(_createElementVNode(\"input\", {\n    type: \"password\",\n    \"onUpdate:modelValue\": _cache[1] || (_cache[1] = $event => $data.password = $event),\n    class: \"form-control\",\n    plaeholder: \"****\"\n  }, null, 512 /* NEED_PATCH */), [[_vModelText, $data.password]])]), _createElementVNode(\"div\", _hoisted_15, [_createElementVNode(\"div\", _hoisted_16, [_createVNode(_component_router_link, {\n    to: \"/forgot-password\"\n  }, {\n    default: _withCtx(() => [_hoisted_17]),\n    _: 1 /* STABLE */\n  })])]), _createElementVNode(\"div\", _hoisted_18, [_createElementVNode(\"button\", {\n    onClick: _cache[2] || (_cache[2] = (...args) => $options.loginUser && $options.loginUser(...args)),\n    class: \"btn btn-primary btn-block\",\n    type: \"submit\"\n  }, \"Sign Me In\")]), _hoisted_19, _createElementVNode(\"div\", null, [_createElementVNode(\"button\", {\n    onClick: _cache[3] || (_cache[3] = (...args) => $options.login && $options.login(...args)),\n    class: \"btn btn-primary btn-block\"\n  }, [_hoisted_20, _createTextVNode(\" Login Using Google \")])])], 32 /* HYDRATE_EVENTS */), _createElementVNode(\"div\", _hoisted_21, [_createElementVNode(\"p\", null, [_createTextVNode(\"Don't have an account? \"), _createVNode(_component_router_link, {\n    to: \"/register\"\n  }, {\n    default: _withCtx(() => [_hoisted_22]),\n    _: 1 /* STABLE */\n  })])])])])])])])])])]), _createCommentVNode(\"**********************************\\r\\n        Scripts\\r\\n    ***********************************\"), _createCommentVNode(\" Required vendors \")]);\n}","map":{"version":3,"names":["class","_createElementVNode","_createElementBlock","_hoisted_1","_hoisted_2","_hoisted_3","_hoisted_4","_hoisted_5","_hoisted_6","_hoisted_7","_hoisted_8","_hoisted_9","_hoisted_10","onSubmit","_cache","_withModifiers","_hoisted_11","_hoisted_12","type","$data","email","$event","placeholder","_hoisted_13","_hoisted_14","password","plaeholder","_hoisted_15","_hoisted_16","_createVNode","_component_router_link","to","_hoisted_17","_hoisted_18","onClick","args","$options","loginUser","_hoisted_19","login","_hoisted_20","_hoisted_21","_hoisted_22","_createCommentVNode"],"sources":["C:\\Users\\ajib\\OneDrive\\Desktop\\event-ticket\\vue3-restaurant-dashboard\\src\\components\\auth\\Login.vue"],"sourcesContent":["<template>\r\n\r\n  <body class=\"justify-content-center h-100 align-items-center pt-5\">\r\n    <div class=\"\">\r\n      <div class=\"\">\r\n        <div class=\"row vertical-center justify-content-center h-100 align-items-center\">\r\n          <div class=\"col-md-6\">\r\n            <div class=\"authincation-content\">\r\n              <div class=\"row no-gutters\">\r\n                <div class=\"col\">\r\n                  <div class=\"auth-form\">\r\n                    <h4 class=\"text-center mb-4\">Sign in your account</h4>\r\n                    <form @submit.prevent=\"\">\r\n                      <div class=\"form-group\">\r\n                        <label class=\"mb-1\"><strong>Email</strong></label>\r\n                        <input\r\n                          type=\"email\"\r\n                          v-model=\"email\"\r\n                          class=\"form-control\"\r\n                          placeholder=\"hello@example.com\"\r\n                        >\r\n                      </div>\r\n                      <div class=\"form-group\">\r\n                        <label class=\"mb-1\"><strong>Password</strong></label>\r\n                        <input\r\n                          type=\"password\"\r\n                          v-model=\"password\"\r\n                          class=\"form-control\"\r\n                          plaeholder=\"****\"\r\n                        >\r\n                      </div>\r\n                      <div class=\"form-row d-flex justify-content-between mt-4 mb-2\">\r\n\r\n                        <div class=\"form-group text-center\">\r\n                          <router-link to=\"/forgot-password\">\r\n                            <a>Forgot Password?</a>\r\n                          </router-link>\r\n                        </div>\r\n                      </div>\r\n                      <div class=\"text-center\">\r\n                        <button\r\n                          @click=\"loginUser\"\r\n                          class=\"btn btn-primary btn-block\"\r\n                          type=\"submit\"\r\n                        >Sign Me In</button>\r\n                      </div>\r\n                      <br>\r\n                      <div>\r\n                        <button\r\n                          @click=\"login\"\r\n                          class=\"btn btn-primary btn-block\"\r\n                        >\r\n                          <svg\r\n                            xmlns=\"http://www.w3.org/2000/svg\"\r\n                            viewBox=\"0 0 48 48\"\r\n                            width=\"24px\"\r\n                            height=\"24px\"\r\n                          >\r\n                            <path\r\n                              fill=\"#4285F4\"\r\n                              d=\"M45.7,20.8H24.5v7.9h11.4c-0.4,2.1-1.6,3.9-3.4,5.2v4.3h5.5c3.2-2.9,5.1-7.3,5.1-12.2C43.6,25.7,44.8,23.1,45.7,20.8z\"\r\n                            />\r\n                            <path\r\n                              fill=\"#34A853\"\r\n                              d=\"M24.5,41.1c4.6,0,8.5-1.5,11.4-4h-5.5c-1.5,0.9-3.4,1.5-5.9,1.5c-4.5,0-8.3-3-9.7-7.1l-5.8,4.5C11.7,38.6,17.6,41.1,24.5,41.1z\"\r\n                            />\r\n                            <path\r\n                              fill=\"#FBBC04\"\r\n                              d=\"M14.8,28c-0.1-1.3-0.2-2.7-0.2-4c0-1.3,0.1-2.7,0.2-4l-5.8-4.5c-1.6,3.6-1.6,7.7,0,11.3L14.8,28z\"\r\n                            />\r\n                            <path\r\n                              fill=\"#EB4335\"\r\n                              d=\"M24.5,13.6c2.4,0,4.4,0.8,5.9,2.2l4.4-4.4C33,8.9,28.9,7.2,24.5,7.2c-6.9,0-12.8,2.5-17.4,6.6l5.8,4.5C16.2,16.5,20,13.6,24.5,13.6z\"\r\n                            />\r\n                          </svg>\r\n                          Login Using Google\r\n                        </button>\r\n                      </div>\r\n\r\n                    </form>\r\n                    <div class=\"new-account mt-3\">\r\n                      <p>Don't have an account? <router-link to=\"/register\"><a class=\"text-primary\">Sign up</a></router-link>\r\n                      </p>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n\r\n    <!--**********************************\r\n        Scripts\r\n    ***********************************-->\r\n    <!-- Required vendors -->\r\n\r\n  </body>\r\n</template>\r\n<script>\r\n\r\nimport { mapActions } from \"vuex\";\r\nimport { googleSdkLoaded } from \"vue3-google-login\";\r\nimport Swal from \"sweetalert2\";\r\nimport jwt_decode from \"jwt-decode\";\r\n\r\nexport default {\r\n  data() {\r\n    return {\r\n      name: \"\",\r\n      email: \"\",\r\n      password: \"\"\r\n    };\r\n  },\r\n  methods: {\r\n    ...mapActions([\"LOGIN_USER\", \"sendCodeToBackend\"]),\r\n    login() {\r\n      googleSdkLoaded(google => {\r\n        google.accounts.oauth2\r\n          .initCodeClient({\r\n            client_id:\r\n              \"58730156701-d27fqgjbhmuqt974hav87of8hofgi6i0.apps.googleusercontent.com\",\r\n            scope: \"email profile openid\",\r\n            redirect_uri: \"https://restaurant-n54j.onrender.com/auth/callback\",\r\n            callback: response => {\r\n              if (response.code) {\r\n                this.sendCodeToBackend(response.code);\r\n              }\r\n            }\r\n          })\r\n          .requestCode();\r\n      });\r\n    },\r\n    loginUser() {\r\n      const payload = {\r\n        email: this.email,\r\n        password: this.password\r\n      };\r\n\r\n      this.LOGIN_USER(payload)\r\n        .then(response => {\r\n          const decodedToken = jwt_decode(response.token);\r\n         // console.log(decodedToken);\r\n          // Access the decoded token properties\r\n          const isAdmin = decodedToken.isAdmin;\r\n\r\n          Swal.fire(\"login successful\");\r\n\r\n          // Redirect based on user role\r\n          //console.log(\"isAdmin:\", isAdmin);\r\n          this.$router.push('/')\r\n\r\n\r\n        })\r\n        .catch(err => {\r\n          const message = err.message;\r\n\r\n          Swal.fire(\"Oh oo!\", `${message}`, \"error\");\r\n        });\r\n    }\r\n  }\r\n};\r\n</script>\r\n<style scoped>\r\n</style>\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}