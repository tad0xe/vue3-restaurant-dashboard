{"ast":null,"code":"import { ref } from 'vue';\nimport axios from 'axios';\nexport default {\n  __name: 'rex',\n  setup(__props, {\n    expose: __expose\n  }) {\n    __expose();\n    const product = ref({\n      title: '',\n      brand: '',\n      description: '',\n      availability: '',\n      price: null,\n      stockQuantity: null\n    });\n    const files = ref([]);\n    const uploadMsg = ref('');\n    const handleFiles = e => {\n      files.value = Array.from(e.target.files);\n    };\n    const submitProduct = async () => {\n      try {\n        const formData = new FormData();\n\n        // Append all product fields\n        for (const key in product.value) {\n          formData.append(key, product.value[key]);\n        }\n\n        // Append photos\n        files.value.forEach(file => {\n          formData.append('photos', file);\n        });\n        const response = await axios.post('/api/products', formData, {\n          headers: {\n            'Content-Type': 'multipart/form-data'\n          }\n        });\n        uploadMsg.value = response.data.msg;\n      } catch (err) {\n        console.error(err);\n        uploadMsg.value = 'Error uploading product.';\n      }\n    };\n    const __returned__ = {\n      product,\n      files,\n      uploadMsg,\n      handleFiles,\n      submitProduct,\n      ref,\n      get axios() {\n        return axios;\n      }\n    };\n    Object.defineProperty(__returned__, '__isScriptSetup', {\n      enumerable: false,\n      value: true\n    });\n    return __returned__;\n  }\n};","map":{"version":3,"names":["ref","axios","product","title","brand","description","availability","price","stockQuantity","files","uploadMsg","handleFiles","e","value","Array","from","target","submitProduct","formData","FormData","key","append","forEach","file","response","post","headers","data","msg","err","console","error"],"sources":["C:/Users/ajib/OneDrive/Desktop/event-ticket/event-ticket-frontend/src/components/rex.vue"],"sourcesContent":["<template>\r\n  <div class=\"container mt-5\">\r\n    <form @submit.prevent=\"submitProduct\" enctype=\"multipart/form-data\">\r\n      <div class=\"mb-3\">\r\n        <label class=\"form-label\">Title</label>\r\n        <input v-model=\"product.title\" type=\"text\" class=\"form-control\" required />\r\n      </div>\r\n\r\n      <div class=\"mb-3\">\r\n        <label class=\"form-label\">Brand</label>\r\n        <input v-model=\"product.brand\" type=\"text\" class=\"form-control\" required />\r\n      </div>\r\n\r\n      <div class=\"mb-3\">\r\n        <label class=\"form-label\">Description</label>\r\n        <textarea v-model=\"product.description\" class=\"form-control\" required></textarea>\r\n      </div>\r\n\r\n      <div class=\"mb-3\">\r\n        <label class=\"form-label\">Availability</label>\r\n        <input v-model=\"product.availability\" type=\"text\" class=\"form-control\" />\r\n      </div>\r\n\r\n      <div class=\"mb-3\">\r\n        <label class=\"form-label\">Price</label>\r\n        <input v-model.number=\"product.price\" type=\"number\" class=\"form-control\" />\r\n      </div>\r\n\r\n      <div class=\"mb-3\">\r\n        <label class=\"form-label\">Stock Quantity</label>\r\n        <input v-model.number=\"product.stockQuantity\" type=\"number\" class=\"form-control\" />\r\n      </div>\r\n\r\n      <div class=\"mb-3\">\r\n        <label class=\"form-label\">Photos</label>\r\n        <input @change=\"handleFiles\" type=\"file\" multiple class=\"form-control\" />\r\n      </div>\r\n\r\n      <button type=\"submit\" class=\"btn btn-primary\">Upload Product</button>\r\n    </form>\r\n\r\n    <div v-if=\"uploadMsg\" class=\"alert alert-success mt-3\">\r\n      {{ uploadMsg }}\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script setup>\r\nimport { ref } from 'vue';\r\nimport axios from 'axios';\r\n\r\nconst product = ref({\r\n  title: '',\r\n  brand: '',\r\n  description: '',\r\n  availability: '',\r\n  price: null,\r\n  stockQuantity: null\r\n});\r\n\r\nconst files = ref([]);\r\nconst uploadMsg = ref('');\r\n\r\nconst handleFiles = (e) => {\r\n  files.value = Array.from(e.target.files);\r\n};\r\n\r\nconst submitProduct = async () => {\r\n  try {\r\n    const formData = new FormData();\r\n\r\n    // Append all product fields\r\n    for (const key in product.value) {\r\n      formData.append(key, product.value[key]);\r\n    }\r\n\r\n    // Append photos\r\n    files.value.forEach(file => {\r\n      formData.append('photos', file);\r\n    });\r\n\r\n    const response = await axios.post('/api/products', formData, {\r\n      headers: {\r\n        'Content-Type': 'multipart/form-data'\r\n      }\r\n    });\r\n\r\n    uploadMsg.value = response.data.msg;\r\n  } catch (err) {\r\n    console.error(err);\r\n    uploadMsg.value = 'Error uploading product.';\r\n  }\r\n};\r\n</script>\r\n"],"mappings":"AAgDA,SAASA,GAAG,QAAQ,KAAK;AACzB,OAAOC,KAAK,MAAM,OAAO;;;;;;;IAEzB,MAAMC,OAAO,GAAGF,GAAG,CAAC;MAClBG,KAAK,EAAE,EAAE;MACTC,KAAK,EAAE,EAAE;MACTC,WAAW,EAAE,EAAE;MACfC,YAAY,EAAE,EAAE;MAChBC,KAAK,EAAE,IAAI;MACXC,aAAa,EAAE;IACjB,CAAC,CAAC;IAEF,MAAMC,KAAK,GAAGT,GAAG,CAAC,EAAE,CAAC;IACrB,MAAMU,SAAS,GAAGV,GAAG,CAAC,EAAE,CAAC;IAEzB,MAAMW,WAAW,GAAIC,CAAC,IAAK;MACzBH,KAAK,CAACI,KAAK,GAAGC,KAAK,CAACC,IAAI,CAACH,CAAC,CAACI,MAAM,CAACP,KAAK,CAAC;IAC1C,CAAC;IAED,MAAMQ,aAAa,GAAG,MAAAA,CAAA,KAAY;MAChC,IAAI;QACF,MAAMC,QAAQ,GAAG,IAAIC,QAAQ,CAAC,CAAC;;QAE/B;QACA,KAAK,MAAMC,GAAG,IAAIlB,OAAO,CAACW,KAAK,EAAE;UAC/BK,QAAQ,CAACG,MAAM,CAACD,GAAG,EAAElB,OAAO,CAACW,KAAK,CAACO,GAAG,CAAC,CAAC;QAC1C;;QAEA;QACAX,KAAK,CAACI,KAAK,CAACS,OAAO,CAACC,IAAI,IAAI;UAC1BL,QAAQ,CAACG,MAAM,CAAC,QAAQ,EAAEE,IAAI,CAAC;QACjC,CAAC,CAAC;QAEF,MAAMC,QAAQ,GAAG,MAAMvB,KAAK,CAACwB,IAAI,CAAC,eAAe,EAAEP,QAAQ,EAAE;UAC3DQ,OAAO,EAAE;YACP,cAAc,EAAE;UAClB;QACF,CAAC,CAAC;QAEFhB,SAAS,CAACG,KAAK,GAAGW,QAAQ,CAACG,IAAI,CAACC,GAAG;MACrC,CAAC,CAAC,OAAOC,GAAG,EAAE;QACZC,OAAO,CAACC,KAAK,CAACF,GAAG,CAAC;QAClBnB,SAAS,CAACG,KAAK,GAAG,0BAA0B;MAC9C;IACF,CAAC"},"metadata":{},"sourceType":"module","externalDependencies":[]}