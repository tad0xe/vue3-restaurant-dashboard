{"ast":null,"code":"import { createElementVNode as _createElementVNode, resolveComponent as _resolveComponent, createVNode as _createVNode, openBlock as _openBlock, createElementBlock as _createElementBlock } from \"vue\";\nconst _hoisted_1 = {\n  id: \"user-activity\",\n  class: \"card\"\n};\nconst _hoisted_2 = {\n  class: \"card-header border-0 pb-0 d-sm-flex d-block\"\n};\nconst _hoisted_3 = /*#__PURE__*/_createElementVNode(\"div\", null, [/*#__PURE__*/_createElementVNode(\"h4\", {\n  class: \"card-title mb-1\"\n}, \"Customer Map\"), /*#__PURE__*/_createElementVNode(\"small\", {\n  class: \"mb-0\"\n}, \"Lorem Ipsum is simply dummy text of the printing\")], -1);\nconst _hoisted_4 = {\n  class: \"card-action card-tabs mt-3 mt-sm-0\"\n};\nconst _hoisted_5 = {\n  class: \"nav nav-tabs\",\n  role: \"tablist\"\n};\nconst _hoisted_6 = {\n  class: \"nav-item\"\n};\nconst _hoisted_7 = {\n  class: \"nav-item\"\n};\nconst _hoisted_8 = {\n  class: \"nav-item\"\n};\nconst _hoisted_9 = {\n  class: \"card-body\"\n};\nconst _hoisted_10 = {\n  class: \"tab-content\",\n  id: \"myTabContent\"\n};\nconst _hoisted_11 = {\n  class: \"tab-pane fade show active\",\n  id: \"user\",\n  role: \"tabpanel\"\n};\nconst _hoisted_12 = {\n  id: \"charts\",\n  class: \"chart-container\"\n};\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  const _component_apexchart = _resolveComponent(\"apexchart\");\n  return _openBlock(), _createElementBlock(\"div\", null, [_createElementVNode(\"div\", _hoisted_1, [_createElementVNode(\"div\", _hoisted_2, [_hoisted_3, _createElementVNode(\"div\", _hoisted_4, [_createElementVNode(\"ul\", _hoisted_5, [_createElementVNode(\"li\", _hoisted_6, [_createElementVNode(\"a\", {\n    class: \"nav-link active\",\n    \"data-toggle\": \"tab\",\n    onClick: _cache[0] || (_cache[0] = $event => $options.setFilter('monthly')),\n    role: \"tab\"\n  }, \" Monthly \")]), _createElementVNode(\"li\", _hoisted_7, [_createElementVNode(\"a\", {\n    class: \"nav-link\",\n    \"data-toggle\": \"tab\",\n    onClick: _cache[1] || (_cache[1] = $event => $options.setFilter('weekly')),\n    role: \"tab\"\n  }, \" Weekly \")]), _createElementVNode(\"li\", _hoisted_8, [_createElementVNode(\"a\", {\n    class: \"nav-link\",\n    \"data-toggle\": \"tab\",\n    onClick: _cache[2] || (_cache[2] = $event => $options.setFilter('daily')),\n    role: \"tab\"\n  }, \" Today \")])])])]), _createElementVNode(\"div\", _hoisted_9, [_createElementVNode(\"div\", _hoisted_10, [_createElementVNode(\"div\", _hoisted_11, [_createElementVNode(\"div\", _hoisted_12, [_createVNode(_component_apexchart, {\n    type: \"bar\",\n    options: $data.options,\n    series: $data.series\n  }, null, 8, [\"options\", \"series\"])])])])])])]);\n}","map":{"version":3,"names":["id","class","_createElementVNode","role","_createElementBlock","_hoisted_1","_hoisted_2","_hoisted_3","_hoisted_4","_hoisted_5","_hoisted_6","onClick","_cache","$event","$options","setFilter","_hoisted_7","_hoisted_8","_hoisted_9","_hoisted_10","_hoisted_11","_hoisted_12","_createVNode","_component_apexchart","type","options","$data","series"],"sources":["C:\\Users\\ajib\\OneDrive\\Desktop\\event-ticket\\vue3-restaurant-dashboard\\src\\components\\charts\\barChart.vue"],"sourcesContent":["<template>\r\n  <div>\r\n    <div\r\n      id=\"user-activity\"\r\n      class=\"card\"\r\n    >\r\n      <div class=\"card-header border-0 pb-0 d-sm-flex d-block\">\r\n        <div>\r\n          <h4 class=\"card-title mb-1\">Customer Map</h4>\r\n          <small class=\"mb-0\">Lorem Ipsum is simply dummy text of the printing</small>\r\n        </div>\r\n        <div class=\"card-action card-tabs mt-3 mt-sm-0\">\r\n          <ul\r\n            class=\"nav nav-tabs\"\r\n            role=\"tablist\"\r\n          >\r\n            <li class=\"nav-item\">\r\n              <a\r\n                class=\"nav-link active\"\r\n                data-toggle=\"tab\"\r\n                @click=\"setFilter('monthly')\"\r\n                role=\"tab\"\r\n              >\r\n                Monthly\r\n              </a>\r\n            </li>\r\n            <li class=\"nav-item\">\r\n              <a\r\n                class=\"nav-link\"\r\n                data-toggle=\"tab\"\r\n                @click=\"setFilter('weekly')\"\r\n                role=\"tab\"\r\n              >\r\n                Weekly\r\n              </a>\r\n            </li>\r\n            <li class=\"nav-item\">\r\n              <a\r\n                class=\"nav-link\"\r\n                data-toggle=\"tab\"\r\n                @click=\"setFilter('daily')\"\r\n                role=\"tab\"\r\n              >\r\n                Today\r\n              </a>\r\n            </li>\r\n          </ul>\r\n        </div>\r\n      </div>\r\n      <div class=\"card-body\">\r\n        <div\r\n          class=\"tab-content\"\r\n          id=\"myTabContent\"\r\n        >\r\n          <div\r\n            class=\"tab-pane fade show active\"\r\n            id=\"user\"\r\n            role=\"tabpanel\"\r\n          >\r\n            <div\r\n              id=\"charts\"\r\n              class=\"chart-container\"\r\n            >\r\n              <apexchart\r\n                type=\"bar\"\r\n                :options=\"options\"\r\n                :series=\"series\"\r\n              ></apexchart>\r\n            </div>\r\n\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n\r\n  </div>\r\n</template>\r\n<script>\r\nimport { mapGetters } from \"vuex\";\r\nimport VueApexCharts from \"vue3-apexcharts\";\r\n\r\nexport default {\r\n  components: {\r\n    apexchart: VueApexCharts\r\n  },\r\n  computed: {\r\n    ...mapGetters([\"getVisits\"])\r\n  },\r\n  data() {\r\n    return {\r\n      filter: \"monthly\",\r\n      options: {},\r\n      series: []\r\n    };\r\n  },\r\n  mounted() {\r\n    this.$store\r\n      .dispatch(\"fetchVisits\")\r\n      .then(response => {\r\n       // console.log(response);\r\n        this.generateChart();\r\n      })\r\n      .catch(error => {\r\n       // console.log(error);\r\n      });\r\n  },\r\n  methods: {\r\n    generateChart() {\r\n      const visits = this.filterVisits();\r\n      const countsMap = new Map();\r\n\r\n      // Group counts by date and sum them\r\n      visits.forEach(visit => {\r\n        const date = visit.time.slice(0, 10);\r\n        const count = visit.count;\r\n\r\n        if (countsMap.has(date)) {\r\n          countsMap.set(date, countsMap.get(date) + count);\r\n        } else {\r\n          countsMap.set(date, count);\r\n        }\r\n      });\r\n\r\n      // Sort dates in ascending order\r\n      const sortedDates = Array.from(countsMap.keys()).sort();\r\n\r\n      const dates = sortedDates.map(date => date.slice(5)); // Extract month and day\r\n      const counts = sortedDates.map(date => countsMap.get(date));\r\n\r\n      this.options = {\r\n        chart: {\r\n          type: \"bar\"\r\n        },\r\n        series: [\r\n          {\r\n            name: \"Total Visits\",\r\n            data: counts.map(count => Math.floor(count))\r\n          }\r\n        ],\r\n        xaxis: {\r\n          categories: dates\r\n        }\r\n      };\r\n    },\r\n    filterVisits() {\r\n      const today = new Date();\r\n      const weekAgo = new Date(today.getTime() - 7 * 24 * 60 * 60 * 1000);\r\n      const monthAgo = new Date(\r\n        today.getFullYear(),\r\n        today.getMonth() - 1,\r\n        today.getDate()\r\n      );\r\n\r\n      if (this.filter === \"daily\") {\r\n        return this.getVisits.filter(visit => {\r\n          const visitDate = new Date(visit.time);\r\n          return visitDate.toDateString() === today.toDateString();\r\n        });\r\n      } else if (this.filter === \"weekly\") {\r\n        return this.getVisits.filter(visit => {\r\n          const visitDate = new Date(visit.time);\r\n          return visitDate >= weekAgo && visitDate <= today;\r\n        });\r\n      } else if (this.filter === \"monthly\") {\r\n        return this.getVisits.filter(visit => {\r\n          const visitDate = new Date(visit.time);\r\n          return visitDate >= monthAgo && visitDate <= today;\r\n        });\r\n      }\r\n\r\n      return [];\r\n    },\r\n    setFilter(filter) {\r\n      this.filter = filter;\r\n      this.generateChart();\r\n    }\r\n  }\r\n};\r\n</script>\r\n\r\n<style>\r\n#charts {\r\n  max-width: 1000px;\r\n  margin: 0 auto;\r\n}\r\n.chart-container {\r\n  margin-bottom: 0; /* Remove bottom margin */\r\n  padding-bottom: 1rem; /* Add some bottom padding */\r\n}\r\n\r\n@media (max-width: 576px) {\r\n  /* Apply specific styles for small screens (e.g., mobile devices) */\r\n  .chart-container {\r\n    padding-bottom: 0.5rem; /* Adjust the padding as needed */\r\n  }\r\n}\r\n</style>\r\n"],"mappings":";;EAGMA,EAAE,EAAC,eAAe;EAClBC,KAAK,EAAC;;;EAEDA,KAAK,EAAC;AAA6C;gCACtDC,mBAAA,CAGM,c,aAFJA,mBAAA,CAA6C;EAAzCD,KAAK,EAAC;AAAiB,GAAC,cAAY,G,aACxCC,mBAAA,CAA4E;EAArED,KAAK,EAAC;AAAM,GAAC,kDAAgD,E;;EAEjEA,KAAK,EAAC;AAAoC;;EAE3CA,KAAK,EAAC,cAAc;EACpBE,IAAI,EAAC;;;EAEDF,KAAK,EAAC;AAAU;;EAUhBA,KAAK,EAAC;AAAU;;EAUhBA,KAAK,EAAC;AAAU;;EAarBA,KAAK,EAAC;AAAW;;EAElBA,KAAK,EAAC,aAAa;EACnBD,EAAE,EAAC;;;EAGDC,KAAK,EAAC,2BAA2B;EACjCD,EAAE,EAAC,MAAM;EACTG,IAAI,EAAC;;;EAGHH,EAAE,EAAC,QAAQ;EACXC,KAAK,EAAC;;;;uBA5DlBG,mBAAA,CA0EM,cAzEJF,mBAAA,CAuEM,OAvENG,UAuEM,GAnEJH,mBAAA,CA0CM,OA1CNI,UA0CM,GAzCJC,UAGM,EACNL,mBAAA,CAoCM,OApCNM,UAoCM,GAnCJN,mBAAA,CAkCK,MAlCLO,UAkCK,GA9BHP,mBAAA,CASK,MATLQ,UASK,GARHR,mBAAA,CAOI;IANFD,KAAK,EAAC,iBAAiB;IACvB,aAAW,EAAC,KAAK;IAChBU,OAAK,EAAAC,MAAA,QAAAA,MAAA,MAAAC,MAAA,IAAEC,QAAA,CAAAC,SAAS;IACjBZ,IAAI,EAAC;KACN,WAED,E,GAEFD,mBAAA,CASK,MATLc,UASK,GARHd,mBAAA,CAOI;IANFD,KAAK,EAAC,UAAU;IAChB,aAAW,EAAC,KAAK;IAChBU,OAAK,EAAAC,MAAA,QAAAA,MAAA,MAAAC,MAAA,IAAEC,QAAA,CAAAC,SAAS;IACjBZ,IAAI,EAAC;KACN,UAED,E,GAEFD,mBAAA,CASK,MATLe,UASK,GARHf,mBAAA,CAOI;IANFD,KAAK,EAAC,UAAU;IAChB,aAAW,EAAC,KAAK;IAChBU,OAAK,EAAAC,MAAA,QAAAA,MAAA,MAAAC,MAAA,IAAEC,QAAA,CAAAC,SAAS;IACjBZ,IAAI,EAAC;KACN,SAED,E,SAKRD,mBAAA,CAuBM,OAvBNgB,UAuBM,GAtBJhB,mBAAA,CAqBM,OArBNiB,WAqBM,GAjBJjB,mBAAA,CAgBM,OAhBNkB,WAgBM,GAXJlB,mBAAA,CASM,OATNmB,WASM,GALJC,YAAA,CAIaC,oBAAA;IAHXC,IAAI,EAAC,KAAK;IACTC,OAAO,EAAEC,KAAA,CAAAD,OAAO;IAChBE,MAAM,EAAED,KAAA,CAAAC"},"metadata":{},"sourceType":"module","externalDependencies":[]}