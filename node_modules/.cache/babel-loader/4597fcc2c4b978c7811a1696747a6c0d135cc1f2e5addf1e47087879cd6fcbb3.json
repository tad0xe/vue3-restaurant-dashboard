{"ast":null,"code":"import { createElementVNode as _createElementVNode, createCommentVNode as _createCommentVNode, vModelText as _vModelText, withDirectives as _withDirectives, renderList as _renderList, Fragment as _Fragment, openBlock as _openBlock, createElementBlock as _createElementBlock, toDisplayString as _toDisplayString, vModelSelect as _vModelSelect, pushScopeId as _pushScopeId, popScopeId as _popScopeId } from \"vue\";\nconst _withScopeId = n => (_pushScopeId(\"data-v-46012776\"), n = n(), _popScopeId(), n);\nconst _hoisted_1 = {\n  class: \"container py-4\"\n};\nconst _hoisted_2 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"h2\", {\n  class: \"mb-4\"\n}, \"Search Products\", -1 /* HOISTED */));\nconst _hoisted_3 = {\n  class: \"mb-4\"\n};\nconst _hoisted_4 = {\n  class: \"row g-3\"\n};\nconst _hoisted_5 = {\n  class: \"col-md-4\"\n};\nconst _hoisted_6 = {\n  class: \"col-md-4\"\n};\nconst _hoisted_7 = {\n  class: \"col-md-4\"\n};\nconst _hoisted_8 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"option\", {\n  value: \"\"\n}, \"All Categories\", -1 /* HOISTED */));\nconst _hoisted_9 = [\"value\"];\nconst _hoisted_10 = {\n  class: \"mt-3\"\n};\nconst _hoisted_11 = {\n  key: 0\n};\nconst _hoisted_12 = {\n  class: \"list-group\"\n};\nconst _hoisted_13 = {\n  class: \"mb-0\"\n};\nconst _hoisted_14 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"br\", null, null, -1 /* HOISTED */));\nconst _hoisted_15 = {\n  key: 1,\n  class: \"text-muted\"\n};\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  return _openBlock(), _createElementBlock(\"div\", _hoisted_1, [_hoisted_2, _createCommentVNode(\" Filter Form \"), _createElementVNode(\"div\", _hoisted_3, [_createElementVNode(\"div\", _hoisted_4, [_createElementVNode(\"div\", _hoisted_5, [_withDirectives(_createElementVNode(\"input\", {\n    \"onUpdate:modelValue\": _cache[0] || (_cache[0] = $event => $data.filters.title = $event),\n    type: \"text\",\n    class: \"form-control\",\n    placeholder: \"Search by title\"\n  }, null, 512 /* NEED_PATCH */), [[_vModelText, $data.filters.title]])]), _createElementVNode(\"div\", _hoisted_6, [_withDirectives(_createElementVNode(\"input\", {\n    \"onUpdate:modelValue\": _cache[1] || (_cache[1] = $event => $data.filters.tag = $event),\n    type: \"text\",\n    class: \"form-control\",\n    placeholder: \"Search by tag\"\n  }, null, 512 /* NEED_PATCH */), [[_vModelText, $data.filters.tag]])]), _createElementVNode(\"div\", _hoisted_7, [_withDirectives(_createElementVNode(\"select\", {\n    \"onUpdate:modelValue\": _cache[2] || (_cache[2] = $event => $data.filters.categoryID = $event),\n    class: \"form-select\"\n  }, [_hoisted_8, (_openBlock(true), _createElementBlock(_Fragment, null, _renderList($data.categories, category => {\n    return _openBlock(), _createElementBlock(\"option\", {\n      key: category._id,\n      value: category._id\n    }, _toDisplayString(category.type), 9 /* TEXT, PROPS */, _hoisted_9);\n  }), 128 /* KEYED_FRAGMENT */))], 512 /* NEED_PATCH */), [[_vModelSelect, $data.filters.categoryID]])])]), _createElementVNode(\"div\", _hoisted_10, [_createElementVNode(\"button\", {\n    class: \"btn btn-primary\",\n    onClick: _cache[3] || (_cache[3] = (...args) => $options.getFilteredProducts && $options.getFilteredProducts(...args))\n  }, \" Search \")])]), _createCommentVNode(\" Product Results \"), $data.products.length ? (_openBlock(), _createElementBlock(\"div\", _hoisted_11, [_createElementVNode(\"h5\", null, \"Found \" + _toDisplayString($data.products.length) + \" product(s):\", 1 /* TEXT */), _createElementVNode(\"ul\", _hoisted_12, [(_openBlock(true), _createElementBlock(_Fragment, null, _renderList($data.products, product => {\n    return _openBlock(), _createElementBlock(\"li\", {\n      key: product._id,\n      class: \"list-group-item d-flex justify-content-between align-items-center\"\n    }, [_createElementVNode(\"div\", null, [_createElementVNode(\"strong\", null, _toDisplayString(product.title), 1 /* TEXT */), _createElementVNode(\"p\", _hoisted_13, [_createElementVNode(\"small\", null, \"Tag: \" + _toDisplayString(product.tag), 1 /* TEXT */), _hoisted_14, _createElementVNode(\"small\", null, \"Category: \" + _toDisplayString(product.category?.type), 1 /* TEXT */)])])]);\n  }), 128 /* KEYED_FRAGMENT */))])])) : (_openBlock(), _createElementBlock(\"div\", _hoisted_15, \"No products found.\"))]);\n}","map":{"version":3,"names":["class","_createElementVNode","value","_createElementBlock","_hoisted_1","_hoisted_2","_createCommentVNode","_hoisted_3","_hoisted_4","_hoisted_5","$data","filters","title","$event","type","placeholder","_hoisted_6","tag","_hoisted_7","categoryID","_hoisted_8","_Fragment","_renderList","categories","category","key","_id","_hoisted_9","_hoisted_10","onClick","_cache","args","$options","getFilteredProducts","products","length","_hoisted_11","_toDisplayString","_hoisted_12","product","_hoisted_13","_hoisted_14","_hoisted_15"],"sources":["C:\\Users\\ajib\\OneDrive\\Desktop\\event-ticket\\event-ticket-frontend\\src\\components\\rex.vue"],"sourcesContent":["<template>\r\n  <div class=\"container py-4\">\r\n    <h2 class=\"mb-4\">Search Products</h2>\r\n\r\n    <!-- Filter Form -->\r\n    <div class=\"mb-4\">\r\n      <div class=\"row g-3\">\r\n        <div class=\"col-md-4\">\r\n          <input\r\n            v-model=\"filters.title\"\r\n            type=\"text\"\r\n            class=\"form-control\"\r\n            placeholder=\"Search by title\"\r\n          />\r\n        </div>\r\n        <div class=\"col-md-4\">\r\n          <input\r\n            v-model=\"filters.tag\"\r\n            type=\"text\"\r\n            class=\"form-control\"\r\n            placeholder=\"Search by tag\"\r\n          />\r\n        </div>\r\n        <div class=\"col-md-4\">\r\n          <select v-model=\"filters.categoryID\" class=\"form-select\">\r\n            <option value=\"\">All Categories</option>\r\n            <option\r\n              v-for=\"category in categories\"\r\n              :key=\"category._id\"\r\n              :value=\"category._id\"\r\n            >\r\n              {{ category.type }}\r\n            </option>\r\n          </select>\r\n        </div>\r\n      </div>\r\n\r\n      <div class=\"mt-3\">\r\n        <button class=\"btn btn-primary\" @click=\"getFilteredProducts\">\r\n          Search\r\n        </button>\r\n      </div>\r\n    </div>\r\n\r\n    <!-- Product Results -->\r\n    <div v-if=\"products.length\">\r\n      <h5>Found {{ products.length }} product(s):</h5>\r\n      <ul class=\"list-group\">\r\n        <li\r\n          v-for=\"product in products\"\r\n          :key=\"product._id\"\r\n          class=\"list-group-item d-flex justify-content-between align-items-center\"\r\n        >\r\n          <div>\r\n            <strong>{{ product.title }}</strong>\r\n            <p class=\"mb-0\">\r\n              <small>Tag: {{ product.tag }}</small\r\n              ><br />\r\n              <small>Category: {{ product.category?.type }}</small>\r\n            </p>\r\n          </div>\r\n        </li>\r\n      </ul>\r\n    </div>\r\n    <div v-else class=\"text-muted\">No products found.</div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport axios from \"axios\";\r\n\r\nexport default {\r\n  name: \"ProductList\",\r\n  data() {\r\n    return {\r\n      categories: [],\r\n      products: [],\r\n      filters: {\r\n        title: \"\",\r\n        tag: \"\",\r\n        categoryID: \"\",\r\n      },\r\n    };\r\n  },\r\n  mounted() {\r\n    this.fetchCategories();\r\n    this.getFilteredProducts();\r\n  },\r\n\r\n  methods: {\r\n    formatDate(date) {\r\n      if (!date) return \"No date\";\r\n      const options = {\r\n        weekday: \"long\",\r\n        year: \"numeric\",\r\n        month: \"long\",\r\n        day: \"numeric\",\r\n      };\r\n      return new Date(date).toLocaleDateString(\"en-US\", options);\r\n    },\r\n    formatPrice(price) {\r\n      if (!price || price === 0) return \"Free\";\r\n      return `$${price}`;\r\n    },\r\n\r\n    async fetchCategories() {\r\n      try {\r\n        const response = await axios.get(\r\n          \"http://localhost:4000/api/categories\"\r\n        );\r\n        this.categories = response.data.categories || response.data;\r\n      } catch (error) {\r\n        console.error(\"Error fetching categories:\", error);\r\n      }\r\n    },\r\n\r\n    async getFilteredProducts() {\r\n      try {\r\n        const response = await axios.get(\"http://localhost:4000/api/products\", {\r\n          params: this.filters, // Pass filters as query params\r\n        });\r\n        this.products = response.data.products;\r\n      } catch (error) {\r\n        console.error(\"Error fetching products:\", error);\r\n      }\r\n    },\r\n  },\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n.container {\r\n  max-width: 900px;\r\n}\r\n</style>\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}