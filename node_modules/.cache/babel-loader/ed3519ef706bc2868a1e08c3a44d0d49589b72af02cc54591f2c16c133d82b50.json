{"ast":null,"code":"import { createCommentVNode as _createCommentVNode, createElementVNode as _createElementVNode, normalizeClass as _normalizeClass, toDisplayString as _toDisplayString, createTextVNode as _createTextVNode, resolveComponent as _resolveComponent, withCtx as _withCtx, createVNode as _createVNode, openBlock as _openBlock, createElementBlock as _createElementBlock } from \"vue\";\nconst _hoisted_1 = {\n  class: \"text-start border-0 pb-0 d-sm-flex d-block\"\n};\nconst _hoisted_2 = /*#__PURE__*/_createElementVNode(\"div\", null, [/*#__PURE__*/_createElementVNode(\"h4\", {\n  class: \"card-title mb-1\"\n}, \"Orders Summary\"), /*#__PURE__*/_createElementVNode(\"small\", {\n  class: \"mb-0\"\n}, \"Lorem ipsum dolor sit amet, consectetur\")], -1 /* HOISTED */);\nconst _hoisted_3 = {\n  class: \"card-action card-tabs mt-3 mt-sm-0\"\n};\nconst _hoisted_4 = {\n  class: \"nav nav-tabs\",\n  role: \"tablist\"\n};\nconst _hoisted_5 = {\n  class: \"nav-item\"\n};\nconst _hoisted_6 = {\n  class: \"nav-item\"\n};\nconst _hoisted_7 = {\n  class: \"nav-item\"\n};\nconst _hoisted_8 = {\n  class: \"card-body orders-summary\"\n};\nconst _hoisted_9 = {\n  class: \"d-flex order-manage p-3 align-items-center mb-4\"\n};\nconst _hoisted_10 = {\n  class: \"btn fs-22 py-1 btn-success px-4 mr-3\"\n};\nconst _hoisted_11 = /*#__PURE__*/_createElementVNode(\"div\", null, [/*#__PURE__*/_createElementVNode(\"div\", {\n  class: \"mb-0 header-title text-sm\"\n}, [/*#__PURE__*/_createTextVNode(\" New Orders \"), /*#__PURE__*/_createElementVNode(\"i\", {\n  class: \"fa fa-circle text-success ml-1 fs-15\"\n})])], -1 /* HOISTED */);\nconst _hoisted_12 = /*#__PURE__*/_createElementVNode(\"i\", {\n  class: \"ti-angle-right ml-1\"\n}, null, -1 /* HOISTED */);\nconst _hoisted_13 = {\n  class: \"row\"\n};\nconst _hoisted_14 = {\n  class: \"col-sm-4 mb-4\"\n};\nconst _hoisted_15 = {\n  class: \"border px-3 py-3 rounded-xl\"\n};\nconst _hoisted_16 = {\n  class: \"fs-32 font-w600 counter\"\n};\nconst _hoisted_17 = /*#__PURE__*/_createElementVNode(\"p\", {\n  class: \"fs-16 mb-0\"\n}, \"On Delivery\", -1 /* HOISTED */);\nconst _hoisted_18 = {\n  class: \"col-sm-4 mb-4\"\n};\nconst _hoisted_19 = {\n  class: \"border px-3 py-3 rounded-xl\"\n};\nconst _hoisted_20 = {\n  class: \"fs-32 font-w600 counter\"\n};\nconst _hoisted_21 = /*#__PURE__*/_createElementVNode(\"p\", {\n  class: \"fs-16 mb-0\"\n}, \"Delivered\", -1 /* HOISTED */);\nconst _hoisted_22 = {\n  class: \"col-sm-4 mb-4\"\n};\nconst _hoisted_23 = {\n  class: \"border px-3 py-3 rounded-xl\"\n};\nconst _hoisted_24 = {\n  class: \"fs-32 font-w600 counter\"\n};\nconst _hoisted_25 = /*#__PURE__*/_createElementVNode(\"p\", {\n  class: \"fs-16 mb-0\"\n}, \"Canceled\", -1 /* HOISTED */);\nconst _hoisted_26 = {\n  class: \"col-sm-4\"\n};\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  const _component_router_link = _resolveComponent(\"router-link\");\n  const _component_apexchart = _resolveComponent(\"apexchart\");\n  return _openBlock(), _createElementBlock(\"div\", null, [_createCommentVNode(\" Filter buttons \"), _createElementVNode(\"div\", null, [_createElementVNode(\"div\", _hoisted_1, [_hoisted_2, _createElementVNode(\"div\", _hoisted_3, [_createElementVNode(\"ul\", _hoisted_4, [_createElementVNode(\"li\", _hoisted_5, [_createElementVNode(\"a\", {\n    class: _normalizeClass([\"nav-link\", {\n      active: $data.filter === 'monthly'\n    }]),\n    onClick: _cache[0] || (_cache[0] = $event => $options.setFilter('monthly')),\n    role: \"tab\"\n  }, \" Monthly \", 2 /* CLASS */)]), _createElementVNode(\"li\", _hoisted_6, [_createElementVNode(\"a\", {\n    class: _normalizeClass([\"nav-link\", {\n      active: $data.filter === 'weekly'\n    }]),\n    onClick: _cache[1] || (_cache[1] = $event => $options.setFilter('weekly')),\n    role: \"tab\"\n  }, \" Weekly \", 2 /* CLASS */)]), _createElementVNode(\"li\", _hoisted_7, [_createElementVNode(\"a\", {\n    class: _normalizeClass([\"nav-link\", {\n      active: $data.filter === 'daily'\n    }]),\n    onClick: _cache[2] || (_cache[2] = $event => $options.setFilter('daily')),\n    role: \"tab\"\n  }, \" Today \", 2 /* CLASS */)])])])]), _createElementVNode(\"div\", _hoisted_8, [_createElementVNode(\"div\", _hoisted_9, [_createElementVNode(\"a\", _hoisted_10, _toDisplayString($options.filteredNewOrderCount), 1 /* TEXT */), _hoisted_11, _createVNode(_component_router_link, {\n    to: \"/dash?activeTab=orders\",\n    class: \"ml-auto text-primary font-w500 text-sm\"\n  }, {\n    default: _withCtx(() => [_createTextVNode(\" Manage orders \"), _hoisted_12]),\n    _: 1 /* STABLE */\n  })]), _createElementVNode(\"div\", _hoisted_13, [_createElementVNode(\"div\", _hoisted_14, [_createElementVNode(\"div\", _hoisted_15, [_createElementVNode(\"h2\", _hoisted_16, _toDisplayString($options.filteredOnDeliveryCount), 1 /* TEXT */), _hoisted_17])]), _createElementVNode(\"div\", _hoisted_18, [_createElementVNode(\"div\", _hoisted_19, [_createElementVNode(\"h2\", _hoisted_20, _toDisplayString($options.filteredDeliveredCount), 1 /* TEXT */), _hoisted_21])]), _createElementVNode(\"div\", _hoisted_22, [_createElementVNode(\"div\", _hoisted_23, [_createElementVNode(\"h2\", _hoisted_24, _toDisplayString($options.filteredCancelledCount), 1 /* TEXT */), _hoisted_25])])]), _createElementVNode(\"div\", null, [_createElementVNode(\"div\", _hoisted_26, [_createVNode(_component_apexchart, {\n    width: \"500\",\n    type: \"pie\",\n    options: $options.chartOptions,\n    series: $options.chartSeries\n  }, null, 8 /* PROPS */, [\"options\", \"series\"])])])])])]);\n}","map":{"version":3,"names":["class","_createElementVNode","role","_createElementBlock","_createCommentVNode","_hoisted_1","_hoisted_2","_hoisted_3","_hoisted_4","_hoisted_5","_normalizeClass","active","$data","filter","onClick","_cache","$event","$options","setFilter","_hoisted_6","_hoisted_7","_hoisted_8","_hoisted_9","_hoisted_10","_toDisplayString","filteredNewOrderCount","_hoisted_11","_createVNode","_component_router_link","to","_hoisted_12","_hoisted_13","_hoisted_14","_hoisted_15","_hoisted_16","filteredOnDeliveryCount","_hoisted_17","_hoisted_18","_hoisted_19","_hoisted_20","filteredDeliveredCount","_hoisted_21","_hoisted_22","_hoisted_23","_hoisted_24","filteredCancelledCount","_hoisted_25","_hoisted_26","_component_apexchart","width","type","options","chartOptions","series","chartSeries"],"sources":["C:\\Users\\ajib\\OneDrive\\Desktop\\event-ticket\\event-ticket-frontend\\src\\components\\charts\\pieChart.vue"],"sourcesContent":["<template>\r\n  <div>\r\n    <!-- Filter buttons -->\r\n    <div>\r\n      <div class=\" text-start border-0 pb-0 d-sm-flex d-block\">\r\n        <div>\r\n          <h4 class=\"card-title mb-1\">Orders Summary</h4>\r\n          <small class=\"mb-0\">Lorem ipsum dolor sit amet, consectetur</small>\r\n        </div>\r\n        <div class=\"card-action card-tabs mt-3 mt-sm-0\">\r\n          <ul class=\"nav nav-tabs\" role=\"tablist\">\r\n            <li class=\"nav-item\">\r\n              <a\r\n                class=\"nav-link\"\r\n                :class=\"{ active: filter === 'monthly' }\"\r\n                @click=\"setFilter('monthly')\"\r\n                role=\"tab\"\r\n              >\r\n                Monthly\r\n              </a>\r\n            </li>\r\n            <li class=\"nav-item\">\r\n              <a\r\n                class=\"nav-link\"\r\n                :class=\"{ active: filter === 'weekly' }\"\r\n                @click=\"setFilter('weekly')\"\r\n                role=\"tab\"\r\n              >\r\n                Weekly\r\n              </a>\r\n            </li>\r\n            <li class=\"nav-item\">\r\n              <a\r\n                class=\"nav-link\"\r\n                :class=\"{ active: filter === 'daily' }\"\r\n                @click=\"setFilter('daily')\"\r\n                role=\"tab\"\r\n              >\r\n                Today\r\n              </a>\r\n            </li>\r\n          </ul>\r\n        </div>\r\n      </div>\r\n      <div class=\"card-body orders-summary\">\r\n        <div class=\"d-flex order-manage p-3 align-items-center mb-4\">\r\n          <a class=\"btn fs-22 py-1 btn-success px-4 mr-3\">{{\r\n            filteredNewOrderCount\r\n          }}</a>\r\n          <div>\r\n            <div class=\"mb-0 header-title text-sm\">\r\n              New Orders <i class=\"fa fa-circle text-success ml-1 fs-15\"></i>\r\n            </div>\r\n          </div>\r\n          <router-link\r\n            to=\"/dash?activeTab=orders\"\r\n            class=\"ml-auto text-primary font-w500 text-sm\"\r\n          >\r\n            Manage orders <i class=\"ti-angle-right ml-1\"></i>\r\n          </router-link>\r\n        </div>\r\n        <div class=\"row\">\r\n          <div class=\"col-sm-4 mb-4\">\r\n            <div class=\"border px-3 py-3 rounded-xl\">\r\n              <h2 class=\"fs-32 font-w600 counter\">\r\n                {{ filteredOnDeliveryCount }}\r\n              </h2>\r\n              <p class=\"fs-16 mb-0\">On Delivery</p>\r\n            </div>\r\n          </div>\r\n          <div class=\"col-sm-4 mb-4\">\r\n            <div class=\"border px-3 py-3 rounded-xl\">\r\n              <h2 class=\"fs-32 font-w600 counter\">\r\n                {{ filteredDeliveredCount }}\r\n              </h2>\r\n              <p class=\"fs-16 mb-0\">Delivered</p>\r\n            </div>\r\n          </div>\r\n          <div class=\"col-sm-4 mb-4\">\r\n            <div class=\"border px-3 py-3 rounded-xl\">\r\n              <h2 class=\"fs-32 font-w600 counter\">\r\n                {{ filteredCancelledCount }}\r\n              </h2>\r\n              <p class=\"fs-16 mb-0\">Canceled</p>\r\n            </div>\r\n          </div>\r\n        </div>\r\n        <div>\r\n          <div class=\"col-sm-4\">\r\n            <apexchart\r\n              width=\"500\"\r\n              type=\"pie\"\r\n              :options=\"chartOptions\"\r\n              :series=\"chartSeries\"\r\n            ></apexchart>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { mapGetters } from \"vuex\";\r\n\r\nimport VueApexCharts from \"vue3-apexcharts\";\r\n\r\nexport default {\r\n  components: {\r\n    apexchart: VueApexCharts,\r\n  },\r\n  computed: {\r\n    ...mapGetters([\"getOrders\"]),\r\n    filteredNewOrderCount() {\r\n      return this.filteredData.filter((order) => order.status === \"New Order\")\r\n        .length;\r\n    },\r\n    filteredDeliveredCount() {\r\n      return this.filteredData.filter((order) => order.status === \"delivered\")\r\n        .length;\r\n    },\r\n    filteredCancelledCount() {\r\n      return this.filteredData.filter((order) => order.status === \"cancelled\")\r\n        .length;\r\n    },\r\n    filteredOnDeliveryCount() {\r\n      return this.filteredData.filter((order) => order.status === \"on Delivery\")\r\n        .length;\r\n    },\r\n    filteredData() {\r\n      const today = new Date();\r\n      const weekAgo = new Date(today.getTime() - 7 * 24 * 60 * 60 * 1000);\r\n      const monthAgo = new Date(\r\n        today.getFullYear(),\r\n        today.getMonth() - 1,\r\n        today.getDate()\r\n      );\r\n\r\n      if (this.filter === \"daily\") {\r\n        const filteredOrders = this.getOrders.filter(\r\n          (order) =>\r\n            new Date(order.created_at).toISOString().substr(0, 10) ===\r\n            today.toISOString().substr(0, 10)\r\n        );\r\n        // console.log(\"Filtered Orders (Daily):\", filteredOrders);\r\n        return filteredOrders;\r\n      } else if (this.filter === \"weekly\") {\r\n        const filteredOrders = this.getOrders.filter(\r\n          (order) =>\r\n            new Date(order.created_at).getTime() >= weekAgo.getTime() &&\r\n            new Date(order.created_at).getTime() <= today.getTime()\r\n        );\r\n        //console.log(\"Filtered Orders (Weekly):\", filteredOrders);\r\n        return filteredOrders;\r\n      } else if (this.filter === \"monthly\") {\r\n        const filteredOrders = this.getOrders.filter(\r\n          (order) =>\r\n            new Date(order.created_at).getTime() >= monthAgo.getTime() &&\r\n            new Date(order.created_at).getTime() <= today.getTime()\r\n        );\r\n        //console.log(\"Filtered Orders (Monthly):\", filteredOrders);\r\n        return filteredOrders;\r\n      }\r\n    },\r\n    chartOptions() {\r\n      return {\r\n        labels: [\"Delivered\", \"Cancelled\", \"On Delivery\"],\r\n        responsive: [\r\n          {\r\n            breakpoint: 576, // Breakpoint for small screens (e.g., mobile devices)\r\n            options: {\r\n              chart: {\r\n                width: \"100%\",\r\n              },\r\n            },\r\n          },\r\n          {\r\n            breakpoint: 768, // Breakpoint for medium screens (e.g., tablets)\r\n            options: {\r\n              chart: {\r\n                width: \"80%\",\r\n              },\r\n            },\r\n          },\r\n          {\r\n            breakpoint: undefined, // Default options for all other screens\r\n            options: {\r\n              chart: {\r\n                width: \"60%\",\r\n              },\r\n            },\r\n          },\r\n        ],\r\n      };\r\n    },\r\n\r\n    chartSeries() {\r\n      const statusCount = {\r\n        delivered: 0,\r\n        cancelled: 0,\r\n        onDelivery: 0,\r\n      };\r\n\r\n      this.filteredData.forEach((order) => {\r\n        if (order.status === \"delivered\") {\r\n          statusCount.delivered++;\r\n        } else if (order.status === \"cancelled\") {\r\n          statusCount.cancelled++;\r\n        } else if (order.status === \"on Delivery\") {\r\n          statusCount.onDelivery++;\r\n        }\r\n      });\r\n\r\n      return Object.values(statusCount);\r\n    },\r\n  },\r\n  data() {\r\n    return {\r\n      filter: \"monthly\",\r\n    };\r\n  },\r\n  watch: {\r\n    filter() {\r\n      this.updateChart();\r\n    },\r\n    getOrders() {\r\n      this.updateChart();\r\n    },\r\n  },\r\n  mounted() {\r\n    this.$store.dispatch(\"fetchOrders\");\r\n  },\r\n  methods: {\r\n    setFilter(filter) {\r\n      this.filter = filter;\r\n    },\r\n    updateChart() {\r\n      // The chart is automatically updated via computed properties\r\n    },\r\n  },\r\n};\r\n</script>\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}